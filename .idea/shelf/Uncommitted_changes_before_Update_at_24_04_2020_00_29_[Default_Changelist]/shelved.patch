Index: routes/web.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Web Routes\r\n|--------------------------------------------------------------------------\r\n|\r\n| Here is where you can register web routes for your application. These\r\n| routes are loaded by the RouteServiceProvider within a group which\r\n| contains the \"web\" middleware group. Now create something great!\r\n|\r\n*/\r\n\r\nAuth::routes();\r\n\r\nRoute::get('/', 'DashboardController@index', ['name' => 'Dashboard'])->name(\"Dashboard\");\r\n\r\n//Route::put('/profile/{id}', 'ProfileController@updateProfilePhoto')->middleware('auth');\r\nRoute::resource('/profile', 'ProfileController')->middleware('auth');\r\n\r\nRoute::resource('/professor/project', 'ProfessorProjectsController')->middleware('auth');\r\nRoute::put('/student/project', 'StudentProjectsController@autosave')->middleware('auth');\r\nRoute::resource('/student/project', 'StudentProjectsController')->middleware('auth');\r\n\r\nRoute::get('/student/project/{projectId}/post', 'PostController@show')->middleware('auth');\r\nRoute::post('/post', 'PostController@store')->middleware('auth');\r\nRoute::resource('/student/project/{projectId}/post', 'PostController')->middleware('auth');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//Route::get('/profile', 'ProfileController@index', ['name' => 'Profile']);\r\n//Route::get('/course', 'ProfileController@index', ['name' => 'Profile']);\r\n\r\n//Route::get('/groups', 'ProfileController@index', ['name' => 'Profile']);\r\n\r\n//Route::get('/profile', 'ProfileController@index', ['name' => 'Profile']);\r\n\r\n\r\n// Student\r\n\r\n\r\n// Professor\r\n\r\n// Admin\r\n//Route::group(['middleware' => ['auth','admin']], function (){\r\n    Route::get('/admin/{table}', 'AdminController@index', ['name' => 'tables']);\r\n    Route::post('/admin/{table}/store', 'AdminController@store');\r\n    Route::get(\"/admin/edit-user/{id}\",'AdminController@edit');\r\n    Route::put(\"/admin/edit-update/\",'AdminController@update');\r\n    Route::delete('/admin/{table}/delete/','AdminController@destroy');\r\n    //Route::delete('/admin/{table}/delete/','AdminController@destroySE');\r\n    Route::post('/admin/{table}/import/','AdminController@import');\r\n//});\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- routes/web.php	(revision 33f3042c1afdedcbd47dd1b341903dbecbc87b47)
+++ routes/web.php	(date 1587678060890)
@@ -21,7 +21,7 @@
 Route::resource('/profile', 'ProfileController')->middleware('auth');
 
 Route::resource('/professor/project', 'ProfessorProjectsController')->middleware('auth');
-Route::put('/student/project', 'StudentProjectsController@autosave')->middleware('auth');
+
 Route::resource('/student/project', 'StudentProjectsController')->middleware('auth');
 
 Route::get('/student/project/{projectId}/post', 'PostController@show')->middleware('auth');
Index: resources/views/student/project.blade.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>@extends('layouts.app')\r\n@section('content')\r\n<div class=\"container-fluid pl-5 pr-5 pb-2 mt-3\">\r\n    @include('layouts.messages')\r\n    <nav aria-label=\"breadcrumb\" >\r\n        <ol class=\"breadcrumb mt-1 pl-0 pb-0 pt-0 float-right\" style=\"background-color:white; \">\r\n            <li class=\"breadcrumb-item \" aria-current=\"page\"><a style=\"color:#2c3fb1;\" href={{route('Dashboard')}}>Dashboard</a></li>\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">{{$subject->subjectName}} - {{$project->name}}</li>\r\n        </ol>\r\n    </nav>\r\n    <h2 class=\"pb-2\">{{$subject ->subjectName}} - {{$project->name}}</h2>\r\n\r\n    <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n        <li class=\"nav-item\">\r\n            <a class=\"nav-link\" id=\"conteudo-tab\" data-toggle=\"tab\" href=\"#content\" role=\"tab\" aria-controls=\"conteudo\" aria-selected=\"false\">Content</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n            <a class=\"nav-link\" id=\"horario-tab\" data-toggle=\"tab\" href=\"#schedule\" role=\"tab\" aria-controls=\"horario\" aria-selected=\"false\">Schedule</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n            <a class=\"nav-link\" id=\"noticias-tab\" data-toggle=\"tab\" href=\"#forum\" role=\"tab\" aria-controls=\"noticias\" aria-selected=\"false\">Forum</a>\r\n        </li>\r\n        <li class=\" ml-auto\">\r\n            <button type=\"submit\" class=\"btn btn-sm float-right bg-danger\" style=\"width: 20vh;color: white;\">Sair do Grupo</button>\r\n        </li>\r\n\r\n    </ul>\r\n\r\n    <div class=\"tab-content\" id=\"myTabContent\" style=\"background-color: #ededed; min-height: 75vh; \">\r\n        <div class=\"container-fluid tab-pane fade ml-0 mr-0\" id=\"content\" role=\"tabpanel\" aria-labelledby=\"content-tab\" style=\"background-color: #ededed;\">\r\n            <div class=\"row rounded\" style=\"height: 70vh;\">\r\n                <div class=\"col mt-3 ml-3 rounded\" style=\"background-color: #c6c6c6; position: relative;\">\r\n                    <div class=\"container-fluid d-flex flex-row mt-3\" >\r\n                        <figure class=\"text-center mr-4\"><i class=\"fas fa-folder fa-4x\" style=\"color: #ffce52;\"></i><figcaption>proj1-v1.zip</figcaption></figure>\r\n                        <figure class=\"text-center mr-4\"><i class=\"fas fa-folder fa-4x\" style=\"color: #ffce52;\"></i><figcaption>proj1-v1.zip</figcaption></figure>\r\n                        <figure class=\"text-center mr-4\"><i class=\"fas fa-folder fa-4x\" style=\"color: #ffce52;\"></i><figcaption>proj1-v1.zip</figcaption></figure>\r\n                        <button type=\"submit\" class=\"btn btn-sm mb-2 mr-2\" style=\"width:20vh;background: #2c3fb1; color: white; position: absolute; bottom: 0px; right: 0px;\">Submeter</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-3 mt-3 rounded\">\r\n                    <div class=\"container-fluid rounded h-100 text-center pt-2\" style=\"background-color: #c6c6c6;\">\r\n                        <h5>Documentação </h5>\r\n                        <p> Enunciado </p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col\">\r\n                    <div class=\"row mt-3 mr-1 h-75\">\r\n                        <div class=\"container-fluid rounded pt-2 notes\" style=\"background-color: #ffe680; \" >\r\n                            <h5 class=\"text-center\">Notas</h5>\r\n                            {{--<textarea id = textArea></textarea>--}}\r\n                            {!! Form::open(['action' => ['StudentProjectsController@autosave'], 'method' => 'PUT', 'id'=>'myform']) !!}\r\n                                {{Form::textarea('textArea', $notes, ['class' => 'form-control', 'id'=>'textArea'])}}\r\n                                {{Form::hidden('group', $idGroup)}}\r\n                                {{Form::hidden('project', $project -> idProject)}}\r\n                                {{Form::submit('Submit', ['class'=>'btn btn-primary d-none', 'id'=>'notesButton'])}}\r\n                                {{Form::hidden('submition','notes')}}\r\n                            {!! Form::close() !!}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row mt-2 mr-1\" style=\"height: 20%\">\r\n                        <div class=\"container-fluid rounded text-center pt-2\" style=\"background-color: #c6c6c6; position: relative;\">\r\n                            <h5>Reunião</h5>\r\n                            <div>24/12/2020 15:00 </div>\r\n                            <button type=\"submit\" class=\"btn btn-sm mr-2 mb-2\" style=\"width: 20vh;background: #2c3fb1; color: white; position: absolute; bottom: 0px; right: 0px;\">Agendar</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row rounded mb-5\">\r\n                <div class=\"container-fluid rounded mx-3 mt-3 p-2\" style=\"background-color: #c6c6c6; position: relative;\">\r\n                    <div class=\"form-group mb-0\">\r\n                        <div class=\"table-fixed\">\r\n                            <table class=\"table table-hover text-center\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th>Tarefa</th>\r\n                                    <th>Responsável</th>\r\n                                    <th>Início</th>\r\n                                    <th>Fim</th>\r\n                                    <th>Tempo Gasto</th>\r\n                                    <th></th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                @foreach($tasks as $t)\r\n                                    <tr id=\"{{$t -> idTask}}-show\">\r\n\r\n                                        <td>{{$t->description}}</td>\r\n                                        <td>{{$t->responsible}}</td>\r\n                                        <td>{{$t->beginning}}</td>\r\n                                        <td>{{$t->end}}</td>\r\n                                        <td>@if(!is_null($t->duration) && $t->duration > 1)\r\n                                                {{$t->duration}} days\r\n                                            @elseif(!is_null($t->duration) && $t->duration <= 1)\r\n                                                1 day\r\n                                            @endif\r\n                                        </td>\r\n                                        <td class=\"float-right pr-0\"><button style=\"width: 10vh\" type=\"button\" class=\"btn btn-sm btn-success editTask mr-md-2\">Editar</button><button type=\"button\" class=\"btn btn-sm btn-danger\" data-toggle=\"modal\" data-target=\"#modalDelete-{{$t->idTask}}\">Delete</button></td>\r\n                                    </tr>\r\n                                    <tr class=\"d-none\" id=\"{{$t->idTask}}-edit\">\r\n                                        @csrf\r\n                                        {!!Form::open(['action' => ['StudentProjectsController@update', $project -> idProject], 'method' => 'POST'])!!}\r\n                                            <td class=\"form-group\">\r\n                                                {{Form::text('description', $t->description, ['class' => 'form-control', 'placeholder' => 'Task title'])}}\r\n                                            </td>\r\n                                            <td class=\"form-group\">\r\n                                                {{ Form::text('responsible', $t->responsible ,['class' => 'form-control', 'placeholder' => 'Responsible for the task']) }}\r\n                                            </td>\r\n                                            <td class=\"form-group\">\r\n                                                {{ Form::date('beginning',$t->beginning,['class' => 'form-control']) }}\r\n                                            </td>\r\n                                            <td class=\"form-group\">\r\n                                                {{ Form::date('end',$t->end,['class' => 'form-control']) }}\r\n                                            </td>\r\n                                            <td class=\"form-group\"></td>\r\n\r\n                                            {{Form::hidden('task', $t->idTask) }}\r\n                                            {{Form::hidden('group', $t-> idGroup)}}\r\n                                            {{Form::hidden('submition','task')}}\r\n                                            {{Form::hidden('_method','PUT')}}\r\n\r\n                                            <td class=\"form-group float-right pr-0\">{{Form::Submit('Save', ['class'=>'btn btn-sm mr-2 btn-success', 'style'=>\"width: 10vh\"])}}<button type=\"button\" class=\"btn btn-sm btn-danger editTask\">Cancel</button></td>\r\n\r\n                                        {!! Form::close() !!}\r\n                                    </tr>\r\n                                    {{-- Modal Delete Task --}}\r\n                                    <div class=\"modal fade\" id=\"modalDelete-{{$t->idTask}}\" aria-labelledby=\"modalDelete-{{$t->idTask}}\" aria-hidden=\"true\" tabindex=\"-1\" role=\"dialog\">\r\n                                        <div class=\"modal-dialog\" role=\"document\">\r\n                                            <div class=\"modal-content\">\r\n                                                <div class=\"modal-header\">\r\n                                                    <h4 class=\"modal-title\" id=\"staticBackdropLabel\">Delete Task</h4>\r\n                                                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                        <span aria-hidden=\"true\">&times;</span>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div class=\"modal-body text-center\">\r\n                                                    <h5>Are you sure you want to delete this task?</h5>\r\n                                                    {!!Form::open(['action' => ['StudentProjectsController@destroy', $project->idProject], 'method' => 'POST', 'class' => 'pull-right'])!!}\r\n                                                    {{Form::hidden('_method', 'DELETE')}}\r\n                                                    {{Form::submit('Delete', ['class' => 'btn btn-danger'])}}\r\n                                                    {{Form::hidden('task', $t->idTask) }}\r\n                                                    {!!Form::close()!!}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                @endforeach\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <div class=\"container-fluid pt-3\" style=\"position: relative\">\r\n                            <button type=\"button\" class=\"btn btn-sm open_modal\" id=\"{{$idGroup}}\" style=\"width:20vh;background: #2c3fb1; color: white;position: absolute; bottom: 0px; right: 0px;\">Nova Tarefa</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"tab-pane fade\" id=\"schedule\" role=\"tabpanel\" aria-labelledby=\"schedule-tab\">\r\n            <div class=\"grid-container\">\r\n                <div></div>\r\n                <div>Segunda</div>\r\n                <div>Terça</div>\r\n                <div>Quarta</div>\r\n                <div>Quinta</div>\r\n                <div>Sexta</div>\r\n                <div>Sábado</div>\r\n                <div>Domingo</div>\r\n                <div style=\"border: 1px solid black;\">8:00h-9:00h</div>\r\n                <div style=\"border-top: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-top: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-top: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-top: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-top: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-top: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-top: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">9:00h-10:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">10:00h-11:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">11:00h-12:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">12:00h-13:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">13:00h-14:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">14:00h-15:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">15:00h-16:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">16:00h-17:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">17:00h-18:00h</div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n                <div style=\"border-bottom: 1px solid black; border-right: 1px solid black;\"></div>\r\n            </div>\r\n            <div class=\"container p-3\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-3 mx-auto\">\r\n                        André\r\n                        <span class=\"border bg-primary align-middle \"></span>\r\n                    </div>\r\n                    <div class=\"col-xs-3 mx-auto\">\r\n                        António\r\n                        <span class=\"border bg-success align-middle \"></span>\r\n                    </div>\r\n                    <div class=\"col-xs-3 mx-auto\">\r\n                        Diogo\r\n                        <span class=\"border bg-info align-middle \"></span>\r\n                    </div>\r\n                    <div class=\"col-xs-3 mx-auto\">\r\n                        Guilherme\r\n                        <span class=\"border bg-warning align-middle \"></span>\r\n                    </div>\r\n                    <div class=\"col-xs-3 mx-auto\">\r\n                        João\r\n                        <span class=\"border bg-danger align-middle \"></span>\r\n                    </div>\r\n                    <div class=\"col-xs-3 mx-auto\">\r\n                        Tiago\r\n                        <span class=\"border bg-secondary align-middle \"></span>\r\n                    </div>\r\n                    <div class=\"col-xs-3 mx-auto\">\r\n                        Vasco\r\n                        <span class=\"border bg-dark align-middle \"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"tab-pane fade\" id=\"forum\" role=\"tabpanel\" aria-labelledby=\"forum-tab\">\r\n            <button type=\"button\" class=\"p-2 mt-3 mr-3 btn btn-sm btn-primary float-right\" data-toggle=\"modal\" data-target=\"#modalCreate\" style=\"background-color: #2c3fb1; border-color: #2c3fb1;\">Create Post</button>\r\n\r\n            <div class=\"container rounded pb-3 pt-3\">\r\n                <div class=\"table-responsive\">\r\n                    <table class=\"table bg-white rounded\" style=\"text-align:center;\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Subject</th>\r\n                            <th>Author</th>\r\n                            <th>Responses</th>\r\n                            <th>Created</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        @if(count($posts) > 0)\r\n                            @for($i = 0; $i < count($posts); $i++)\r\n                                <tr>\r\n                                    <td style=\"vertical-align: middle;\"><a href=\"/student/project/{{$project->idProject}}/post/{{$posts[$i]->idAnnouncement}}\">{{$posts[$i]->title}}</a></td>\r\n                                    <td style=\"vertical-align: middle;\">\r\n                                        <a href=\"/profile/{{$userPoster[$i]->id }}\"><img class=\"editable img-responsive\" style=\"border-radius: 100%; height: 30px; width: 30px; object-fit: cover;vertical-align: middle;\" alt=\"Avatar\" id=\"avatar2\" src=\"/storage/profilePhotos/{{ $userPoster[$i]->photo}}\"><span style=\"vertical-align: middle;\"> {{$userPoster[$i]->name}}</span></a>\r\n                                    </td>\r\n                                    <td style=\"vertical-align: middle;\">{{$numberComments[$i]}}</td>\r\n                                    <td style=\"vertical-align: middle;\">{{$posts[$i]->date}}</td>\r\n                                </tr>\r\n                            @endfor\r\n                        @else\r\n                            <tr>\r\n                                <td colspan=\"4\"><h5>No posts found</h5></td>\r\n                            </tr>\r\n                        @endif\r\n                        </tbody>\r\n                    </table>\r\n                    {{$p->links()}}\r\n                </div>\r\n\r\n                {{--Modal Create--}}\r\n                <div class=\"modal fade\" id=\"modalCreate\" tabindex=\"-1\" role=\"dialog\">\r\n                    <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header\">\r\n                                <h4 class=\"modal-title\" id=\"staticBackdropLabel\">New Project</h4>\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                    <span aria-hidden=\"true\">&times;</span>\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"modal-body\">\r\n                                {!! Form::open(['action' => ['PostController@store', $project -> idProject], 'method' => 'POST']) !!}\r\n                                <div class=\"form-group\">\r\n                                    {{Form::label('title', 'Title')}}\r\n                                    {{Form::text('title', '', ['class' => 'form-control', 'placeholder' => 'Title'])}}\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    {{Form::label('body', 'Body')}}\r\n                                    {{Form::textarea('body', '', ['class' => 'form-control', 'placeholder' => 'Body'])}}\r\n                                </div>\r\n                                {{ Form::hidden('project', $project->idProject) }}\r\n\r\n                                {{Form::submit('Submit', ['class'=>'btn btn-success'])}}\r\n\r\n                                {!! Form::close() !!}\r\n                            </div>\r\n                            <script>ClassicEditor\r\n                                    .create( document.querySelector( '#body' ), {\r\n                                        toolbar: {\r\n                                            items: [\r\n                                                'heading',\r\n                                                '|',\r\n                                                'fontSize',\r\n                                                'fontFamily',\r\n                                                'fontColor',\r\n                                                'fontBackgroundColor',\r\n                                                'highlight',\r\n                                                'bold',\r\n                                                'italic',\r\n                                                'underline',\r\n                                                'strikethrough',\r\n                                                'link',,\r\n                                                '|',\r\n                                                'undo',\r\n                                                'redo',\r\n                                                '|',\r\n                                                'indent',\r\n                                                'outdent',\r\n                                                '|',\r\n                                                'bulletedList',\r\n                                                'numberedList',\r\n                                                '|',\r\n                                                'blockQuote',\r\n                                                'code',\r\n                                                'codeBlock'\r\n                                            ]\r\n                                        },\r\n                                        language: 'en',\r\n                                        licenseKey: '',\r\n                                    } )\r\n                                    .then( editor => {\r\n                                        window.editor = editor;\r\n                                    } )\r\n                                    .catch( error => {\r\n                                        console.error( 'Oops, something gone wrong!' );\r\n                                        console.error( 'Please, report the following error in the https://github.com/ckeditor/ckeditor5 with the build id and the error stack trace:' );\r\n                                        console.warn( 'Build id: ce7zysryrfsm-xck2pu5o5swz' );\r\n                                        console.error( error );\r\n                                    } );\r\n                            </script>\r\n                            <style>\r\n                                .ck-editor__editable_inline {\r\n                                    min-height: 40vh;\r\n                                }\r\n                            </style>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n{{-- Modal Create Task --}}\r\n<div class=\"modal fade\" id=\"modalCreateTask\" tabindex=\"-1\" role=\"dialog\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\" id=\"staticBackdropLabel\">New Task</h4>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                {!! Form::open(['action' => 'StudentProjectsController@store', 'method' => 'POST', 'enctype' => 'multipart/form-data']) !!}\r\n                <div class=\"form-group\">\r\n                    {{Form::label('description', 'Title')}}\r\n                    {{Form::text('description', '', ['class' => 'form-control', 'placeholder' => 'Task title'])}}\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    {{Form::label('responsible', 'Responsible')}}\r\n                    {{ Form::text('responsible', '',['class' => 'form-control', 'placeholder' => 'Responsible for the task']) }}\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    {{Form::label('beginning', 'Beginning')}}\r\n                    {{ Form::date('beginning','',['class' => 'form-control']) }}\r\n                </div>\r\n                {{ Form::hidden('group', \"group\") }}\r\n                {{ Form::hidden('project', $project->idProject) }}\r\n                {{ Form::hidden('subject', $subject->subjectName) }}\r\n\r\n                {{Form::submit('Submit', ['class'=>'btn btn-primary'])}}\r\n\r\n                {!! Form::close() !!}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<style>\r\n    #textArea {\r\n        width: 100%;\r\n        height: 80%;\r\n        resize: none;\r\n        background-color: #ffe680;\r\n        border: none;\r\n\r\n    }\r\n\r\n    #textArea:focus{\r\n        outline: 0;\r\n        box-shadow: none;\r\n\r\n    }\r\n    .border {\r\n        display: inline-block;\r\n        width: 10px;\r\n        height: 10px;\r\n    }\r\n\r\n    .grid-container {\r\n        display: grid;\r\n        grid-template-columns: auto auto auto auto auto auto auto auto;\r\n        padding: 10px;\r\n    }\r\n\r\n    .grid-container > div {\r\n        padding-top: 10px;\r\n        padding-bottom: 10px;\r\n        text-align: center;\r\n        font-size: 10px;\r\n    }\r\n     .nav-tabs .nav-link.active{\r\n         background-color: #ededed;\r\n         border-color:#ededed;\r\n     }\r\n    .nav-tabs .nav-link{\r\n        color: #2c3fb1;\r\n    }\r\n    .table{\r\n        table-layout: fixed;\r\n        width:100%;\r\n    }\r\n\r\n</style>\r\n<script>\r\n    $(\".editTask\").click(function () {\r\n        var id = $(this).closest(\"tr\").attr(\"id\").split(\"-\");\r\n        if ($(\"#\" + id[0] + \"-edit\").hasClass(\"d-none\") && id[1] == 'show'){\r\n            $(\"#\" + id[0] + \"-show\").addClass(\"d-none\");\r\n            $(\"#\" + id[0] + \"-edit\").removeClass(\"d-none\");\r\n        } else {\r\n            $(\"#\" + id[0] + \"-edit\").addClass(\"d-none\");\r\n            $(\"#\" + id[0] + \"-show\").removeClass(\"d-none\");\r\n        }\r\n    });\r\n\r\n    $('#myTab a').click(function(e) {\r\n        e.preventDefault();\r\n        $(this).tab('show');\r\n    });\r\n\r\n    // store the currently selected tab in the hash value\r\n    $(\"ul.nav-tabs > li > a\").on(\"shown.bs.tab\", function(e) {\r\n        var id = $(e.target).attr(\"href\").substr(1);\r\n        window.location.hash = id;\r\n    });\r\n\r\n    // on load of the page: switch to the currently selected tab\r\n    var hash = window.location.hash;\r\n    if(hash === ''){\r\n        hash = '#content';\r\n    }\r\n    $('#myTab a[href=\"' + hash + '\"]').tab('show');\r\n\r\n    $(\".pagination\").addClass(\"justify-content-center\");\r\n\r\n    $(\".open_modal\").click(function(){\r\n        $('input[name=\"group\"]').val($(this).attr(\"id\"));\r\n        $('#modalCreateTask').modal('show');\r\n    });\r\n    /*$('#textArea').on(\"chanfe\", function(){\r\n            e.preventDefault();\r\n            $.ajax({\r\n                type: \"Post\",\r\n                url:url,\r\n                data: $('.notes').serialize(),\r\n                success: autosave(),\r\n            })\r\n        });*/\r\n    /*$('#textArea').on('change', function(e){\r\n        $.ajax({\r\n            type:'PUT',\r\n            url: route('notes'),\r\n            data: form_data.serialize(),\r\n            success: console.log('Notes updated')\r\n        });\r\n        e.preventDefault();\r\n\r\n    });*/\r\n\r\n    $('#textArea').change( function(e) {\r\n        e.preventDefault();\r\n        $.ajax({\r\n            type: \"post\",\r\n            data: {'value':$('#textArea').val(), '_token': $('input[name=_token]').val()},\r\n            dataType: 'JSON',\r\n            url: \"/student/project\",\r\n            success:function (data) {\r\n                console.log(data);\r\n            }\r\n        });\r\n   });\r\n\r\n    /*window.onbeforeunload = function(){\r\n        autosave();\r\n        return 'Are you sure you want to leave?';\r\n    };\r\n\r\n    function autosave(){\r\n        document.getElementById(\"myform\").submit();\r\n    }*/\r\n\r\n\r\n</script>\r\n@endsection\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- resources/views/student/project.blade.php	(revision 33f3042c1afdedcbd47dd1b341903dbecbc87b47)
+++ resources/views/student/project.blade.php	(date 1587681389061)
@@ -48,10 +48,9 @@
                         <div class="container-fluid rounded pt-2 notes" style="background-color: #ffe680; " >
                             <h5 class="text-center">Notas</h5>
                             {{--<textarea id = textArea></textarea>--}}
-                            {!! Form::open(['action' => ['StudentProjectsController@autosave'], 'method' => 'PUT', 'id'=>'myform']) !!}
+                            {!! Form::open(['action' => ['StudentProjectsController@update', $project -> idProject], 'method' => 'PUT', 'id'=>'myform', 'onkeyup'=>'autosave()']) !!}
                                 {{Form::textarea('textArea', $notes, ['class' => 'form-control', 'id'=>'textArea'])}}
                                 {{Form::hidden('group', $idGroup)}}
-                                {{Form::hidden('project', $project -> idProject)}}
                                 {{Form::submit('Submit', ['class'=>'btn btn-primary d-none', 'id'=>'notesButton'])}}
                                 {{Form::hidden('submition','notes')}}
                             {!! Form::close() !!}
@@ -514,47 +513,9 @@
         $('input[name="group"]').val($(this).attr("id"));
         $('#modalCreateTask').modal('show');
     });
-    /*$('#textArea').on("chanfe", function(){
-            e.preventDefault();
-            $.ajax({
-                type: "Post",
-                url:url,
-                data: $('.notes').serialize(),
-                success: autosave(),
-            })
-        });*/
-    /*$('#textArea').on('change', function(e){
-        $.ajax({
-            type:'PUT',
-            url: route('notes'),
-            data: form_data.serialize(),
-            success: console.log('Notes updated')
-        });
-        e.preventDefault();
-
-    });*/
-
-    $('#textArea').change( function(e) {
-        e.preventDefault();
-        $.ajax({
-            type: "post",
-            data: {'value':$('#textArea').val(), '_token': $('input[name=_token]').val()},
-            dataType: 'JSON',
-            url: "/student/project",
-            success:function (data) {
-                console.log(data);
-            }
-        });
-   });
-
-    /*window.onbeforeunload = function(){
-        autosave();
-        return 'Are you sure you want to leave?';
-    };
-
     function autosave(){
-        document.getElementById("myform").submit();
-    }*/
+        document.getElementById('myform').submit();
+    };
 
 
 </script>
Index: app/Http/Controllers/StudentProjectsController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse Illuminate\\Http\\Request;\r\nuse App\\Project;\r\nuse App\\Subject;\r\nuse App\\Announcement;\r\nuse App\\AnnouncementComment;\r\nuse App\\User;\r\nuse Auth;\r\nuse App\\Group;\r\nuse App\\StudentsGroup;\r\nuse App\\Task;\r\nuse DateTime;\r\n\r\nclass StudentProjectsController extends Controller\r\n{\r\n\r\n    public function autosave(){\r\n        $x = Input::all();\r\n        /*$idGroup = $request->input('group');\r\n        $group = Group::find($idGroup);\r\n        $group->notes = $request->input('textArea');\r\n        $group->save();*/\r\n    }\r\n    /**\r\n     * Display a listing of the resource.\r\n     *\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function index()\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * Show the form for creating a new resource.\r\n     *\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function create()\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * Store a newly created resource in storage.\r\n     *\r\n     * @param  \\Illuminate\\Http\\Request  $request\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function store(Request $request)\r\n    {\r\n        $this->validate($request, [\r\n            'description' => 'required',\r\n            'responsible' => 'required',\r\n            'beginning' => 'required'\r\n        ]);\r\n\r\n        $task = new Task;\r\n        $idProject = $request ->input('project');\r\n        $task-> idGroup = $request ->input('group');\r\n        $task-> description = $request->input('description');\r\n        $task-> responsible = $request->input('responsible');\r\n        $task-> beginning = $request->input('beginning');\r\n        $task->save();\r\n\r\n\r\n        return redirect()->action('StudentProjectsController@show', $idProject)->with('success', 'Task created successfully');\r\n\r\n    }\r\n\r\n    /**\r\n     * Display the specified resource.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function show($id)\r\n    {\r\n\r\n        $user = Auth::user()->id;\r\n        $project = Project::find($id);\r\n        $subject = Subject::find($project->idSubject);\r\n        $idGroups = Group::all()->where('idProject', '==', $id)->pluck('idGroup');\r\n        $studentGroups = StudentsGroup::all()->where('idStudent', '==', $user)->pluck('idGroup');\r\n        $idGroup = 0;\r\n        foreach($studentGroups as $st)\r\n            foreach ($idGroups as $g)\r\n                if ($g == $st)\r\n                    $idGroup = $g;\r\n        $arr = Task::all()->where('idGroup', '==', $idGroup);\r\n        $notes = Group::find($idGroup)->value('notes');\r\n        $posts = Announcement::orderBy('date', 'desc')->paginate(10)->fragment('forum');\r\n        //$posts = $posts->where('idProject', '==', $id);\r\n        $allPosts = [];\r\n        foreach ($posts as $p) {\r\n            array_push($allPosts, $p);\r\n        }\r\n        $userId = $posts->pluck('sender');\r\n        $users = [];\r\n        foreach ($userId as $uId) {\r\n            $user = User::find($uId);\r\n            array_push($users, $user);\r\n        }\r\n        $idPost = $posts->pluck('idAnnouncement');\r\n        $numberComments = [];\r\n        foreach ($idPost as $idP) {\r\n            $idComment = AnnouncementComment::all()->where('idAnnouncement', '==', $idP)->count();\r\n            array_push($numberComments, $idComment);\r\n        }\r\n\r\n        return view('student.project')->with('project' , $project)->with('subject', $subject)->with('posts', $allPosts)->with('userPoster', $users)->with('numberComments', $numberComments)->with('tasks', $arr)->with('idGroup',$idGroup)->with('notes',$notes)->with('p',$posts);\r\n    }\r\n\r\n    /**\r\n     * Show the form for editing the specified resource.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function edit($id)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * Update the specified resource in storage.\r\n     *\r\n     * @param  \\Illuminate\\Http\\Request  $request\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function update(Request $request, $id)\r\n    {\r\n        $idTask = $request->input('task');\r\n        $idGroup = $request->input('group');\r\n        $task = Task::find($idTask);\r\n        $group = Group::find($idGroup);\r\n        $submition = $request->input('submition');\r\n        if ($submition == 'notes') {\r\n            $group->notes = $request->input('textArea');\r\n            $group->save();\r\n        } elseif($submition == 'task') {\r\n            if (!empty($request->input('description'))) {\r\n                $task->description = $request->input('description');\r\n            } else {\r\n                $task->description = $task->value('description');\r\n            }\r\n            if (!empty($request->input('responsible'))) {\r\n                $task->responsible = $request->input('responsible');\r\n            } else {\r\n                $task->responsible = $task->value('responsible');\r\n            }\r\n            if (!empty($request->input('beginning'))) {\r\n                $task->beginning = $request->input('beginning');\r\n            } else {\r\n                $task->beginning = $task->value('beginning');\r\n            }\r\n            if (!empty($request->input('end'))) {\r\n                $task->end = $request->input('end');\r\n                $start = $task->beginning;\r\n                $end = $task->end;\r\n                $datetime1 = new DateTime($start);\r\n                $datetime2 = new DateTime($end);\r\n                $interval = $datetime1->diff($datetime2);\r\n                $diff = $interval->format('%a');\r\n                $task->duration = $diff;\r\n\r\n            } else {\r\n                $task->end = $task->value(\"end\");\r\n            }\r\n\r\n            $task->save();\r\n            return redirect()->action('StudentProjectsController@show', $id)->with('success', 'Task updated successfully');\r\n        }\r\n\r\n        return redirect()->action('StudentProjectsController@show', $id);\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * Remove the specified resource from storage.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function destroy(Request $request, $id)\r\n    {\r\n        $idTask = $request ->input('task');\r\n        $task = Task::find($idTask);\r\n        $task ->delete();\r\n        return redirect()->action('StudentProjectsController@show', $id)->with('success', 'Task updated successfully');\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/Http/Controllers/StudentProjectsController.php	(revision 33f3042c1afdedcbd47dd1b341903dbecbc87b47)
+++ app/Http/Controllers/StudentProjectsController.php	(date 1587679327047)
@@ -14,17 +14,11 @@
 use App\StudentsGroup;
 use App\Task;
 use DateTime;
+use Illuminate\Support\Facades\Session;
 
 class StudentProjectsController extends Controller
 {
 
-    public function autosave(){
-        $x = Input::all();
-        /*$idGroup = $request->input('group');
-        $group = Group::find($idGroup);
-        $group->notes = $request->input('textArea');
-        $group->save();*/
-    }
     /**
      * Display a listing of the resource.
      *
