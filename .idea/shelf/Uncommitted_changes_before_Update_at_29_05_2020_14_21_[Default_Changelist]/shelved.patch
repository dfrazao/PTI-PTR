Index: resources/views/chat.blade.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\r\n   <div class=\"container-md\" id=\"testee\" style=\"width: 450px;position: absolute;\r\nz-index: 1; margin-left: 50%;margin-top: 5px;\r\n            background:white;\r\n            border-radius:6px;\r\n            border: 1px rgba(0, 123, 255, 0.78) solid;\r\n            display: none;\r\n            -webkit-box-shadow: 10px 10px 6px -2px rgba(211,216,222,1);\r\n            -moz-box-shadow: 10px 10px 6px -2px rgba(211,216,222,1);\r\n            box-shadow: 10px 10px 6px -2px rgba(211,216,222,1);\r\n            \">\r\n       <div class=\"row\">\r\n           <div class=\"col-md-4 nopadding\">\r\n               <div class=\"user-wrapper\">\r\n\r\n\r\n                   <div id=\"search\" style=\"margin: 10px;\">\r\n                       <div class=\"input-group input-group-sm\" >\r\n                           <input class=\"form-control py-1\" type=\"text\" placeholder=\"Search\" id=\"searchinput\" name=\"searchinput\">\r\n                           <span class=\"input-group-append\">\r\n                                <button class=\"btn btn-outline-primary btn-sm\" type=\"button\">\r\n                                    <i class=\"fa fa-search\"></i>\r\n                                </button>\r\n                            </span>\r\n                       </div>\r\n                       {{--<input type=\"text\" placeholder=\"Search\" class=\"form-control\" id=\"searchinput\" name=\"searchinput\" style=\"font-size:12px; \">--}}\r\n                   </div>\r\n                   <ul class=\"users\">\r\n                       @for($i = 0; $i < count($arr_users); $i++)\r\n                         <li class='user' id='{{ $arr_users[$i]->id }}' name=''>\r\n                                <input type='hidden' id=\"name{{ $arr_users[$i]->id }}\" name='custId' value='{{ $arr_users[$i]->name }}'>\r\n\r\n                               <div class=\"media\">\r\n                                   <div class=\"media-left\">\r\n                                       <img src=\"{{Storage::url('profilePhotos/'.$arr_users[$i]->photo)}}\" alt=\"\" class=\"media-object\">\r\n                                   </div>\r\n\r\n                                   <div class=\"media-body\">\r\n                                       <p class=\"name\" style=\"font-size: 12px;\">{{ $arr_users[$i]->name }}</p>\r\n                                       {{--<p class=\"email\">{{ $user->email }}</p>--}}\r\n                                   </div>\r\n                               </div>\r\n                           </li>\r\n                       @endfor\r\n                   </ul>\r\n               </div>\r\n           </div>\r\n           <script type=\"text/javascript\">\r\n               $('#searchinput').on('keyup',function(){\r\n                   $value=$('#searchinput').val();\r\n                   $.ajax({\r\n                       type : 'get',\r\n                       url : '{{URL::to('search')}}',\r\n                       data:{'search':$value},\r\n                       success:function(data){\r\n                           $('.users').html(data);\r\n                       }\r\n                   });\r\n               })\r\n           </script>\r\n           <script type=\"text/javascript\">\r\n               $.ajaxSetup({ headers: { 'csrftoken' : '{{ csrf_token() }}' } });\r\n           </script>\r\n           <div class=\"col-md-8 nopadding\">\r\n               <div id=\"name\">\r\n                   <p>Chat</p>\r\n               </div>\r\n               <div id=\"messages\">\r\n\r\n               </div>\r\n\r\n           <div class=\"input-text\" style=\"display: none; margin: 10px;\">\r\n               <div class=\"input-group mb-3\">\r\n                   <input type=\"text\"  name=\"message\" autocomplete=\"off\"   maxlength=\"500\" class=\"form-control\" id=\"message\" data-emoji-input=\"unicode\" data-emojiable=\"true\">\r\n                   <div class=\"input-group-append\">\r\n                       <button class=\"btn btn-outline-primary send_btn\"><i class=\"fas fa-location-arrow\"></i></button>\r\n                   </div>\r\n               </div>\r\n           </div>\r\n\r\n\r\n           </div>\r\n       </div>\r\n   </div>\r\n\r\n   <style>\r\n       /* width */\r\n       ::-webkit-scrollbar {\r\n           width: 10px;}\r\n       ::-webkit-scrollbar-track {\r\n           background: #f1f1f1;\r\n           border-radius: 5px;\r\n       }\r\n       /* Handle */\r\n       ::-webkit-scrollbar-thumb {\r\n           background-color: #fff;\r\n           border-radius: 5px;\r\n           border: 1px solid rgba(0, 123, 255, 0.78);\r\n       }\r\n       /* Handle on hover */\r\n       ::-webkit-scrollbar-thumb:hover {\r\n           background: rgba(0, 123, 255, 0.78);\r\n\r\n       }\r\n       ul {\r\n           margin: 0;\r\n           padding: 0;\r\n       }\r\n       li {\r\n           list-style: none;\r\n       }\r\n       .user-wrapper, .message-wrapper {\r\n           overflow-y: auto;\r\n       }\r\n       .user-wrapper {\r\n           height: 100%;\r\n           border-right: 1px solid #dddddd;\r\n\r\n       }\r\n       .user {\r\n           border-bottom: 1px solid #e7ebee;\r\n           cursor: pointer;\r\n           padding: 5px 0;\r\n           position: relative;\r\n           width: 100%;\r\n       }\r\n       .user:hover {\r\n           background: #eeeeee;\r\n       }\r\n       .user:last-child {\r\n           margin-bottom: 0;\r\n       }\r\n\r\n       .pending {\r\n           position: absolute;\r\n           left: 13px;\r\n           top: 9px;\r\n           background: #ffb82a;\r\n           margin: 0;\r\n           border-radius: 50%;\r\n           width: 18px;\r\n           height: 18px;\r\n           line-height: 18px;\r\n           padding-left: 5px;\r\n           color: #ffffff;\r\n           font-size: 12px;\r\n       }\r\n       .media-left {\r\n           margin: 0 10px;\r\n       }\r\n       .media-left img {\r\n           width:40px;\r\n           height:40px;\r\n           border-radius: 100%; object-fit: cover;\r\n           border:2px solid #fff ;\r\n\r\n       }\r\n       .media-body p {\r\n           margin: 6px 0;\r\n           font-size: 12px;\r\n       }\r\n       .message-wrapper {\r\n           padding: 10px;\r\n           height: 400px;\r\n           background: #ffffff;\r\n       }\r\n       .messages .message {\r\n           margin-bottom: 15px;\r\n           font-size: 14px;\r\n       }\r\n       .messages .message:last-child {\r\n           margin-bottom: 0;\r\n       }\r\n       .received, .sent {\r\n           width: 45%;\r\n           overflow-wrap: break-word;\r\n           padding: 3px 10px;\r\n           border-radius: 10px;\r\n       }\r\n       .received {\r\n           background: rgba(0, 123, 255, 0.78);\r\n           color: #ffffff;\r\n       }\r\n       .sent {\r\n           background: #eceff1;\r\n           float: right;\r\n           text-align: right;\r\n       }\r\n       .message p {\r\n           margin: 5px 0;\r\n       }\r\n       .sent .date {\r\n           color: black;\r\n           opacity: 0.9;\r\n           font-size: 10px;\r\n       }\r\n       .received .date {\r\n           color: white;\r\n           opacity: 0.9;\r\n           font-size: 10px;\r\n       }\r\n       .active {\r\n           background: #3898ff26;\r\n       }\r\n       .col-sm-4 {\r\n           padding: 0;\r\n           overflow-x: hidden;\r\n       }\r\n       .col-sm-8 {\r\n           padding: 0;\r\n       }\r\n       .nopadding {\r\n           padding: 0 !important;\r\n           margin: 0 !important;\r\n       }\r\n       #name{\r\n           width: 100%;\r\n           height: 47px;\r\n           padding: 15px 29px;\r\n           background: rgb(255,255,255);\r\n           background: linear-gradient(90deg, rgba(255,255,255,1) 0%, rgba(154,188,224,0.4542191876750701) 66%, rgba(56,152,255,0.30015756302521013) 100%);\r\n       }\r\n\r\n       .input_msg_write input {\r\n           background: rgba(0, 0, 0, 0) none repeat scroll 0 0;\r\n           border: medium none;\r\n           color: #4c4c4c;\r\n           font-size: 15px;\r\n           min-height: 48px;\r\n           width: 100%;\r\n       }\r\n\r\n       .type_msg {border-top: 1px solid #c4c4c4;position: relative;}\r\n       .msg_send_btn {\r\n           background: #05728f none repeat scroll 0 0;\r\n           border: medium none;\r\n           border-radius: 50%;\r\n           color: #fff;\r\n           cursor: pointer;\r\n           font-size: 17px;\r\n           height: 33px;\r\n           position: absolute;\r\n           right: 0;\r\n           top: 11px;\r\n           width: 33px;\r\n       }\r\n\r\n       #name p{\r\n           font-size: 15px;\r\n           text-align: center;\r\n       }\r\n\r\n       @media screen and (max-width: 800px) {\r\n           .container-md{\r\n           }\r\n           .col-md-4{\r\n               width: 100%; /* The width is 100%, when the viewport is 800px or smaller */\r\n               overflow-x: hidden;\r\n           }\r\n           .message p {\r\n               margin: 5px 0;\r\n               font-size: 12px;\r\n           }\r\n           .media-body p {\r\n               margin: 6px 0;\r\n               font-size: 12px;\r\n           }\r\n           .col-sm-4 {\r\n               height: 300px;\r\n           }\r\n           .col-sm-8 {\r\n               height: 300px;\r\n           }\r\n       }\r\n   </style>\r\n\r\n   <script src=\"https://js.pusher.com/6.0/pusher.min.js\"></script>\r\n\r\n   <script>\r\n       var receiver_id = '';\r\n       var my_id = \"{{ Auth::id() }}\";\r\n       $(document).ready(function () {\r\n           // ajax setup form csrf token\r\n           $.ajaxSetup({\r\n               headers: {\r\n                   'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n               }\r\n           });\r\n\r\n           // Enable pusher logging - don't include this in production\r\n           Pusher.logToConsole = true;\r\n\r\n           var pusher = new Pusher('ff4af21336ebee3e83fe', {\r\n               cluster: 'eu',\r\n\r\n           });\r\n\r\n\r\n           var channel = pusher.subscribe('my-channel');\r\n\r\n           channel.bind('my-event', function (data) {\r\n               $('#searchinput').val(null);\r\n               $value=$('#searchinput').val();\r\n               $.ajax({\r\n                   type : 'get',\r\n                   url : '{{URL::to('search')}}',\r\n                   data:{'search':$value},\r\n                   success:function(oi){\r\n                       $('.users').html(oi);\r\n                       if (my_id == data.from) {\r\n                           $('#' + data.to).click();\r\n                       } else if (my_id == data.to) {\r\n                           if (receiver_id == data.from) {\r\n                               // if receiver is selected, reload the selected user ...\r\n                               $('#' + data.from).click();\r\n                               sessionStorage.removeItem(\"notification\");\r\n\r\n                           } else {\r\n\r\n                               // if receiver is not seleted, add notification for that user\r\n                               var pending = sessionStorage.getItem(\"notification\");\r\n                               var pending_total = sessionStorage.getItem(\"notification_total\");\r\n\r\n                               if (pending) {\r\n\r\n                                   pending_total = parseInt(pending_total) + 1\r\n                                   sessionStorage.setItem(\"notification_total\", pending_total);\r\n\r\n                                   $('#' + data.from).append('<span class=\"pending\">'+pending_total+'</span>');\r\n                                   $('#chat_button').append('<span class=\"pending\"></span>');\r\n                               } else {\r\n                                   $('#' + data.from).append('<span class=\"pending\">1</span>');\r\n                                   $('#chat_button').append('<span class=\"pending\"></span>');\r\n                                   sessionStorage.setItem(\"notification\", 1);\r\n                                   sessionStorage.setItem(\"notification_total\", 1);\r\n                               }\r\n                           }\r\n                       }\r\n                   }\r\n               });\r\n\r\n\r\n\r\n\r\n           });\r\n\r\n\r\n           var mes = $(\"#message\").emojioneArea({\r\n               searchPlaceholder: \"\",\r\n               pickerPosition: \"bottom\",\r\n               filtersPosition: \"bottom\",\r\n               events: {\r\n                   keyup: function (editor, event) {\r\n                       if(event.which == 13){\r\n                           event.preventDefault(); // < ---------- preventDefault\r\n                           var message = $('#message').data(\"emojioneArea\").getText();\r\n                           // check if enter key is pressed and message is not null also receiver is selected\r\n                           if (message != '' && receiver_id != '') {\r\n                               $('#message').data(\"emojioneArea\").setText(\"\"); // this work\r\n                               var datastr = \"receiver_id=\" + receiver_id + \"&message=\" + message;\r\n\r\n                               $.ajax({\r\n                                   type: \"post\",\r\n                                   url: \"message\", // need to create this post route\r\n                                   data: datastr,\r\n                                   cache: false,\r\n                                   success: function (data) {\r\n\r\n                                   },\r\n                                   error: function (jqXHR, status, err) {\r\n                                   },\r\n                                   complete: function () {\r\n                                       scrollToBottomFunc();\r\n                                       $('#searchinput').val(null);\r\n                                       $value=$('#searchinput').val();\r\n                                       $.ajax({\r\n                                           type : 'get',\r\n                                           url : '{{URL::to('search')}}',\r\n                                           data:{'search':$value},\r\n                                           success:function(data){\r\n                                               $('.users').html(data);\r\n                                           }\r\n                                       });\r\n                                   }\r\n                               })\r\n                           }\r\n                       }\r\n                   },\r\n               }\r\n           });\r\n\r\n\r\n           $(\"body\").on( \"click\", '.user', function( event ){\r\n               $('.user').removeClass('active');\r\n               $(this).addClass('active');\r\n               $(this).find('.pending').remove();\r\n               receiver_id = $(this).attr('id');\r\n               var n = receiver_id.toString();\r\n               receiver_name = $('#'+'name'+n).val();\r\n               $(\"#name\").text(receiver_name);\r\n               $.ajax({\r\n                   type: \"get\",\r\n                   url: \"/message/\" + receiver_id, // need to create this route\r\n                   data: \"\",\r\n                   cache: false,\r\n                   success: function (data) {\r\n                       $('#messages').html(data);\r\n                       scrollToBottomFunc();\r\n\r\n                   }\r\n               });\r\n               $('.input-text').css(\"display\", \"block\");\r\n               $('.input-group-append').css(\"display\", \"block\");\r\n\r\n               var pending = sessionStorage.getItem(\"notification\");\r\n               var pending_total = sessionStorage.getItem(\"notification_total\");\r\n               if (parseInt(pending_total) >= 1) {\r\n                   pending = parseInt(pending) - 1\r\n                   sessionStorage.setItem(\"notification_total\", pending_total);\r\n               }else{\r\n                   sessionStorage.removeItem(\"notification\");\r\n                   $('.pending').remove();\r\n               }\r\n\r\n\r\n           });\r\n       });\r\n\r\n\r\n       $(document).on('click', '.send_btn', function () {\r\n           var message = $('.input-text input').val();\r\n           if (message != '' && receiver_id != '') {\r\n               $('#message').data(\"emojioneArea\").setText(\"\"); // this work\r\n               var datastr = \"receiver_id=\" + receiver_id + \"&message=\" + message;\r\n               $.ajax({\r\n                   type: \"post\",\r\n                   url: \"message\", // need to create this post route\r\n                   data: datastr,\r\n                   cache: false,\r\n                   success: function (data) {\r\n                   },\r\n                   error: function (jqXHR, status, err) {\r\n                   },\r\n                   complete: function () {\r\n                       scrollToBottomFunc();\r\n                       $('#searchinput').val(null);\r\n                       $value=$('#searchinput').val();\r\n                       $.ajax({\r\n                           type : 'get',\r\n                           url : '{{URL::to('search')}}',\r\n                           data:{'search':$value},\r\n                           success:function(data){\r\n                               $('.users').html(data);\r\n                           }\r\n                       });\r\n\r\n                       var mes = $(\"#message\").emojioneArea({\r\n                           searchPlaceholder: \"\",\r\n                           pickerPosition: \"bottom\",\r\n                           filtersPosition: \"bottom\",\r\n                           events: {\r\n                               keyup: function (editor, event) {\r\n                                   if(event.which == 13){\r\n                                       event.preventDefault(); // < ---------- preventDefault\r\n                                       var message = $('#message').data(\"emojioneArea\").getText();\r\n                                       // check if enter key is pressed and message is not null also receiver is selected\r\n                                       if (message != '' && receiver_id != '') {\r\n                                           $('#message').data(\"emojioneArea\").setText(\"\"); // this work\r\n                                           var datastr = \"receiver_id=\" + receiver_id + \"&message=\" + message;\r\n\r\n                                           $.ajax({\r\n                                               type: \"post\",\r\n                                               url: \"message\", // need to create this post route\r\n                                               data: datastr,\r\n                                               cache: false,\r\n                                               success: function (data) {\r\n\r\n                                               },\r\n                                               error: function (jqXHR, status, err) {\r\n                                               },\r\n                                               complete: function () {\r\n                                                   scrollToBottomFunc();\r\n                                                   $('#searchinput').val(\"\");\r\n                                               }\r\n                                           })\r\n                                       }\r\n                                   }\r\n                               },\r\n\r\n                           }\r\n                       });\r\n                   }\r\n               })\r\n           }\r\n       });\r\n\r\n       // make a function to scroll down auto\r\n       function scrollToBottomFunc() {\r\n           $('.message-wrapper').animate({\r\n               scrollTop: $('.message-wrapper').get(0).scrollHeight\r\n           }, 0);\r\n       }\r\n\r\n       $('#searchinput').on('keyup',function(){\r\n           $value=$('#searchinput').val();\r\n           $.ajax({\r\n               type : 'get',\r\n               url : '{{URL::to('search')}}',\r\n               data:{'search':$value},\r\n               success:function(data){\r\n                   $('.users').html(data);\r\n               }\r\n           });\r\n       })\r\n   </script>\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- resources/views/chat.blade.php	(revision 687386796ea723a72b306a57794966a93edf5086)
+++ resources/views/chat.blade.php	(date 1590692283288)
@@ -1,6 +1,6 @@
 
    <div class="container-md" id="testee" style="width: 450px;position: absolute;
-z-index: 1; margin-left: 50%;margin-top: 5px;
+z-index: 1; right: 1em;margin-top: 1em;
             background:white;
             border-radius:6px;
             border: 1px rgba(0, 123, 255, 0.78) solid;
@@ -172,7 +172,7 @@
            margin-bottom: 0;
        }
        .received, .sent {
-           width: 45%;
+           max-width: 82.5%;
            overflow-wrap: break-word;
            padding: 3px 10px;
            border-radius: 10px;
@@ -200,7 +200,7 @@
            font-size: 10px;
        }
        .active {
-           background: #3898ff26;
+           background: #3898ff78;
        }
        .col-sm-4 {
            padding: 0;
Index: .idea/dataSources.local.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"dataSourceStorageLocal\">\r\n    <data-source name=\"mydb@192.168.99.100\" uuid=\"53890ad4-6a4a-478b-a377-c906fe92d733\">\r\n      <database-info product=\"MySQL\" version=\"5.7.29\" jdbc-version=\"4.0\" driver-name=\"MySQL Connector Java\" driver-version=\"mysql-connector-java-5.1.47 ( Revision: fe1903b1ecb4a96a917f7ed3190d80c049b1de29 )\" dbms=\"MYSQL\" exact-version=\"5.7.29\" exact-driver-version=\"5.1\">\r\n        <extra-name-characters>#@</extra-name-characters>\r\n        <identifier-quote-string>`</identifier-quote-string>\r\n      </database-info>\r\n      <case-sensitivity plain-identifiers=\"exact\" quoted-identifiers=\"exact\" />\r\n      <secret-storage>master_key</secret-storage>\r\n      <user-name>user</user-name>\r\n    </data-source>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/dataSources.local.xml	(revision 687386796ea723a72b306a57794966a93edf5086)
+++ .idea/dataSources.local.xml	(date 1590689765337)
@@ -9,6 +9,7 @@
       <case-sensitivity plain-identifiers="exact" quoted-identifiers="exact" />
       <secret-storage>master_key</secret-storage>
       <user-name>user</user-name>
+      <schema-mapping />
     </data-source>
   </component>
 </project>
\ No newline at end of file
