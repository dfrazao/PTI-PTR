Index: resources/views/professor/project.blade.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>@extends('layouts.app')\r\n@section('content')\r\n<head>\r\n    <title>Project</title>\r\n</head>\r\n<div class=\"container-xl-fluid mt-2 pl-5 pr-5 pb-2\">\r\n    @include('layouts.messages')\r\n    <nav aria-label=\"breadcrumb\" >\r\n        <ol class=\"breadcrumb pl-0 pb-0 mb-4 h3\" style=\"background-color:white; \">\r\n            <li class=\"breadcrumb-item \" aria-current=\"page\"><a style=\"color:#2c3fb1;\" href={{route('Dashboard')}}>{{__('gx.dashboard')}}</a></li>\r\n            <li class=\"breadcrumb-item \" aria-current=\"page\" >{{$subject->subjectName}} - {{$project->name}}</li>\r\n        </ol>\r\n    </nav>\r\n\r\n    <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n        <li class=\"nav-item\">\r\n            <a class=\"nav-link\" id=\"characteristics-tab\" data-toggle=\"tab\" href=\"#characteristics\" role=\"tab\" aria-controls=\"characteristics\" aria-selected=\"false\">{{__('gx.characteristics')}}</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n            <a class=\"nav-link\" id=\"groups-tab\" data-toggle=\"tab\" href=\"#groups\" role=\"tab\" aria-controls=\"groups\" aria-selected=\"true\">{{__('gx.groups')}}</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n            <a class=\"nav-link\" id=\"forum-tab\" data-toggle=\"tab\" href=\"#forum\" role=\"tab\" aria-controls=\"forum\" aria-selected=\"false\">{{__('gx.forum')}}</a>\r\n        </li>\r\n        <li class=\"rightbutton ml-auto\">\r\n            <button type=\"submit\" class=\"btn btn-sm bg-danger\" data-toggle=\"modal\" data-target=\"#modalDelete-{{$project->idProject}}\" style=\"width: 20vh;color: white;\">{{__('gx.deleteproject')}}</button>\r\n        </li>\r\n    </ul>\r\n\r\n    <div class=\"modal fade\" id=\"modalDelete-{{$project->idProject}}\" aria-labelledby=\"modalDelete-{{$project->idProject}}\" aria-hidden=\"true\" tabindex=\"-1\" role=\"dialog\">\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h4 class=\"modal-title\" id=\"staticBackdropLabel\">{{__('gx.delete project')}}</h4>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <h5>{{__('gx.want to delete project?')}}</h5>\r\n                    {!!Form::open(['action' => ['ProfessorProjectsController@destroy', $project->idProject], 'method' => 'POST', 'class' => 'pull-right'])!!}\r\n                    {{Form::hidden('_method', 'DELETE')}}\r\n                    {{Form::submit(trans('gx.delete'), ['class' => 'btn btn-danger'])}}\r\n                    {!!Form::close()!!}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"tab-content\" id=\"myTabContent\" style=\"min-height: 75vh; background-color: #ededed;\">\r\n        <div class=\"container tab-pane fade\" id=\"characteristics\" role=\"tabpanel\" aria-labelledby=\"characteristics-tab\">\r\n            <div class=\"row h-100 p-3\">\r\n                <div class=\" col-8 rounded bg-white w-100 p-3 h-100 mr-3\" style=\"position: relative; width: 500px;\">\r\n\r\n                    <button type=\"button\" class=\"btn btn-success float-right\" data-toggle=\"modal\" data-target=\"#modalEdit-{{$project->idProject}}\">{{__('gx.edit project')}}</button>\r\n                    <h4>{{__('gx.characteristics')}}</h4>\r\n                    @if($subject->idSubject == $project->idSubject)\r\n                        <div class=\"modal fade\" id=\"modalEdit-{{$project->idProject}}\" aria-labelledby=\"modalEdit-{{$project->idProject}}\" aria-hidden=\"true\" tabindex=\"-1\" role=\"dialog\">\r\n                            <div class=\"modal-dialog\" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <h4 class=\"modal-title\" id=\"staticBackdropLabel\">{{__('gx.edit project')}}</h4>\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"modal-body\">\r\n                                        {!! Form::open(['action' => ['ProfessorProjectsController@update', $project->idProject], 'method' => 'POST', 'enctype' => 'multipart/form-data', 'id' => 'formEdit']) !!}\r\n                                        <div class=\"form-group\">\r\n                                            {{Form::label('title', trans('gx.name'))}}\r\n                                            {{Form::text('title', $project->name, ['class' => 'form-control', 'placeholder' => trans('gx.project name')])}}\r\n                                        </div>\r\n                                        <div class=\"form-group\">\r\n                                            {{Form::label('deadline', trans('gx.group formation deadline'))}}\r\n                                            {{Form::text('group formation deadline', $project->groupCreationDueDate, ['class' => 'form-control datetimepicker-input', 'id' => 'datetimepicker1-'.$project->idProject, 'data-toggle' => 'datetimepicker', 'data-target' => '#datetimepicker1-'.$project->idProject, (\\Carbon\\Carbon::now()->floatDiffInHours($project->groupCreationDueDate, false) > 0 ? :'disabled')])}}\r\n                                        </div>\r\n                                        <div class=\"form-group\">\r\n                                            {{Form::label('deadline', trans('gx.deadline'))}}\r\n                                            {{Form::text('deadline', $project->dueDate, ['class' => 'form-control datetimepicker-input', 'id' => 'datetimepicker2-'.$project->idProject, 'data-toggle' => 'datetimepicker', 'data-target' => '#datetimepicker2-'.$project->idProject, (\\Carbon\\Carbon::now()->floatDiffInHours($project->dueDate, false) > 0 ? :'disabled')])}}\r\n                                        </div>\r\n                                        <div class=\"form-group\">\r\n                                            {{Form::label('minNumber', trans('gx.minimum no. of members'))}}\r\n                                            {{Form::selectRange('minNumber', 1, 10, $project->minElements)}}\r\n                                        </div>\r\n                                        <div class=\"form-group\">\r\n                                            {{Form::label('maxNumber', trans('gx.maximum no. of members'))}}\r\n                                            {{Form::selectRange('maxNumber', 1, 10, $project->maxElements)}}\r\n                                        </div>\r\n                                        {{ Form::hidden('subject', $subject->idSubject) }}\r\n                                        {{Form::hidden('option', 'project')}}\r\n\r\n                                        {{Form::hidden('_method','PUT')}}\r\n                                        {{Form::submit(trans('gx.submit'), ['class'=>'btn btn-success'])}}\r\n                                        {!! Form::close() !!}\r\n                                    </div>\r\n                                    <script>\r\n                                        $(function() {$( \"#datetimepicker1-{{$project->idProject}}\" ).datetimepicker({\r\n                                            minDate: moment().format('YYYY-MM-DD HH:mm'),\r\n                                            date: moment('{{$project->groupCreationDueDate}}').format('YYYY-MM-DD HH:mm'),\r\n                                            locale: \"{{ str_replace('_', '-', app()->getLocale()) }}\",\r\n                                            icons: {time: \"fa fa-clock\", date: \"fa fa-calendar\", up: \"fa fa-arrow-up\", down: \"fa fa-arrow-down\"}\r\n                                        });});\r\n                                        $(function() {$( \"#datetimepicker2-{{$project->idProject}}\" ).datetimepicker({\r\n                                            minDate: moment().format('YYYY-MM-DD HH:mm'),\r\n                                            date: moment('{{$project->dueDate}}').format('YYYY-MM-DD HH:mm'),\r\n                                            locale: \"{{ str_replace('_', '-', app()->getLocale()) }}\",\r\n                                            icons: {time: \"fa fa-clock\", date: \"fa fa-calendar\", up: \"fa fa-arrow-up\", down: \"fa fa-arrow-down\"}\r\n                                        });});\r\n                                    </script>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    @endif\r\n\r\n\r\n                    <div class=\"pt-3\">\r\n                        <table class=\"table \">\r\n                            <tr>\r\n                                <th class=\"info-th\" scope=\"row\">{{__('gx.group creation deadline')}}</th>\r\n                                <td class=\"info-td\" >{{$project->groupCreationDueDate}}</td>\r\n                                <td class=\"info-td\" >\r\n                                    <div id=\"timer2\"></div>\r\n                                    <style>\r\n                                        #timer2 {\r\n                                            font-size: 1.30em;\r\n                                            font-weight: 100;\r\n                                            color: navy;\r\n                                        }\r\n\r\n                                        #timer2 div {\r\n                                            display: inline-block;\r\n                                            min-width: 45px;\r\n                                        }\r\n\r\n                                        #timer2 div span {\r\n                                            color: black;\r\n                                            display: block;\r\n                                            font-size: .50em;\r\n                                            font-weight: 400;\r\n                                        }\r\n                                    </style>\r\n                                    <script>\r\n                                        function updateTimer2() {\r\n                                            future = Date.parse(\"{{$project->groupCreationDueDate}}\");\r\n                                            now = new Date();\r\n                                            diff = future - now;\r\n\r\n                                            days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n                                            hours = Math.floor(diff / (1000 * 60 * 60));\r\n                                            mins = Math.floor(diff / (1000 * 60));\r\n                                            secs = Math.floor(diff / 1000);\r\n\r\n                                            d = days;\r\n                                            h = hours - days * 24;\r\n                                            m = mins - hours * 60;\r\n                                            s = secs - mins * 60;\r\n\r\n                                            if (d<0){\r\n                                                document.getElementById(\"timer2\")\r\n                                                    .innerHTML = '<p>{{__('gx.finished')}}<p>';\r\n                                            }else if (d==0 && h==0 && m==0){\r\n                                                document.getElementById(\"timer2\")\r\n                                                    .innerHTML = '<div>' + s + '<span>{{__('gx.seconds')}}</span></div>';\r\n                                            } else if (d==0 && h==0 && m==0 && s==0){\r\n                                                document.getElementById(\"timer2\")\r\n                                                    .innerHTML = '<p>{{__('gx.finished')}}<p>';\r\n                                            }else if (d==0){\r\n                                                document.getElementById(\"timer2\")\r\n                                                    .innerHTML =\r\n                                                    '<div>' + h + '<span>{{__('gx.hours')}}</span></div>' +\r\n                                                    '<div>' + m + '<span>{{__('gx.minutes')}}</span></div>' +\r\n                                                    '<div>' + s + '<span>{{__('gx.seconds')}}</span></div>';\r\n                                            }\r\n                                            else{\r\n                                                document.getElementById(\"timer2\")\r\n                                                    .innerHTML =\r\n                                                    '<div>' + d + '<span>{{__('gx.days')}}</span></div>' +\r\n                                                    '<div>' + h + '<span>{{__('gx.hours')}}</span></div>' +\r\n                                                    '<div>' + m + '<span>{{__('gx.minutes')}}</span></div>';\r\n                                            }\r\n                                        }\r\n                                        updateTimer2();\r\n                                        //setInterval('updateTimer2()', 1000);\r\n                                    </script>\r\n\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th class=\"info-th\" scope=\"row\">{{__('gx.delivery time')}}</th>\r\n                                <td class=\"info-td\" >{{$project->dueDate}}</td>\r\n                                <td class=\"info-td\" style=\"width: 30%;\">\r\n                                    <div id=\"timer\"></div>\r\n                                    <style>\r\n                                        #timer {\r\n                                            font-size: 1.30em;\r\n                                            font-weight: 100;\r\n                                            color: navy;\r\n                                        }\r\n\r\n                                        #timer div {\r\n                                            display: inline-block;\r\n                                            min-width: 45px;\r\n                                        }\r\n\r\n                                        #timer div span {\r\n                                            color: black;\r\n                                            display: block;\r\n                                            font-size: .50em;\r\n                                            font-weight: 400;\r\n                                        }\r\n                                    </style>\r\n                                    <script>\r\n                                        function updateTimer() {\r\n                                            future = Date.parse(\"{{$project->dueDate}}\");\r\n                                            now = new Date();\r\n                                            diff = future - now;\r\n\r\n                                            days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n                                            hours = Math.floor(diff / (1000 * 60 * 60));\r\n                                            mins = Math.floor(diff / (1000 * 60));\r\n                                            secs = Math.floor(diff / 1000);\r\n\r\n                                            d = days;\r\n                                            h = hours - days * 24;\r\n                                            m = mins - hours * 60;\r\n                                            s = secs - mins * 60;\r\n\r\n                                            if (d<0 || (d==0 && h==0 && m==0 && s==0)){\r\n                                                document.getElementById(\"timer\")\r\n                                                    .innerHTML = '<p>{{__('gx.finished')}}<p>';\r\n                                            }else if (d==0 && h==0 && m==0){\r\n                                                document.getElementById(\"timer\")\r\n                                                    .innerHTML = '<div>' + s + '<span>{{__('gx.seconds')}}</span></div>';\r\n                                            }else if (d==0){\r\n                                                document.getElementById(\"timer\")\r\n                                                    .innerHTML =\r\n                                                    '<div>' + h + '<span>{{__('gx.hours')}}</span></div>' +\r\n                                                    '<div>' + m + '<span>{{__('gx.minutes')}}</span></div>' +\r\n                                                    '<div>' + s + '<span>{{__('gx.seconds')}}</span></div>';\r\n                                            }else{\r\n                                                document.getElementById(\"timer\")\r\n                                                    .innerHTML =\r\n                                                    '<div>' + d + '<span>{{__('gx.days')}}</span></div>' +\r\n                                                    '<div>' + h + '<span>{{__('gx.hours')}}</span></div>' +\r\n                                                    '<div>' + m + '<span>{{__('gx.minutes')}}</span></div>';\r\n                                            }\r\n                                        }\r\n                                        updateTimer();\r\n                                        setInterval('updateTimer()', 1000);\r\n                                    </script>\r\n                                </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <th class=\"info-th\" scope=\"row\">{{__('gx.maximum no. of groups')}}</th>\r\n                                <td class=\"info-td\" colspan=\"2\">{{$project->maxGroups}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th class=\"info-th\" scope=\"row\">{{__('gx.minimum no. of groups')}}</th>\r\n                                <td class=\"info-td\" colspan=\"2\">{{$project->minElements}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th class=\"info-th\" scope=\"row\">{{__('gx.maximum no. of elements group')}}</th>\r\n                                <td class=\"info-td\" colspan=\"2\">{{$project->maxElements}}</td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <hr style=\"border-top: 4px double #8c8b8b; text-align: center;\">\r\n                    <table class=\"table style1\">\r\n                        <tbody>\r\n                        <tr>\r\n                            <th class=\"info-th\" scope=\"row\">{{__('gx.number of groups')}}</th>\r\n                            <td class=\"info-td\" colspan=\"2\" >{{count($groups)}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th class=\"info-th\" scope=\"row\" style=\"width: 45%;\">{{__('gx.groups that dont match requirements')}}</th>\r\n                            <?php $count = 0 ?>\r\n                            @foreach($groups as $group)\r\n                                @if(\\App\\StudentsGroup::all()->where('idGroup', '==', $group->idGroup)->count() < $project->minElements)\r\n                                    <?php $count++ ?>\r\n                                @endif\r\n                            @endforeach\r\n\r\n\r\n                            @if($count >= 1)\r\n                                <td class=\"info-td\" style=\"width: 53%;\"><button type=\"button\" class=\"btn btn-outline-primary btn-sm m-0 waves-effect\" data-toggle=\"modal\" data-target=\"#modalGroups-{{$project->idProject}}\">{{__('gx.show')}}</button></td>\r\n                                <div class=\"modal fade\" id=\"modalGroups-{{$project->idProject}}\" aria-labelledby=\"modalGroups-{{$project->idProject}}\" aria-hidden=\"true\" tabindex=\"-1\" role=\"dialog\">\r\n                                    <div class=\"modal-dialog\" role=\"document\">\r\n                                        <div class=\"modal-content\">\r\n                                            <div class=\"modal-header\">\r\n                                                <h4 class=\"modal-title\" id=\"staticBackdropLabel\">Grupos</h4>\r\n                                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                    <span aria-hidden=\"true\">&times;</span>\r\n                                                </button>\r\n                                            </div>\r\n                                            <div class=\"modal-body\">\r\n                                                @foreach($groups as $group)\r\n                                                    @if(\\App\\StudentsGroup::all()->where('idGroup', '==', $group->idGroup)->count() < $project->minElements)\r\n                                                        <p><a {{--onclick=\"window.location.assign ='#groups.pills-{{$group->idGroupProject}}'\"--}} {{--href=\"#groups.pills-{{$group->idGroupProject}}\"--}} href=\"{{url('/professor/project/'.$project->idProject.'#groups.pills-'.$group->idGroupProject)}}\">Grupo {{$group->idGroupProject}}</a></p>\r\n                                                    @endif\r\n                                                @endforeach\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            @else\r\n                                <td class=\"info-td\">\r\n                                    {{$count}}\r\n                                </td>\r\n                            @endif\r\n                        </tr>\r\n                        </tbody>\r\n\r\n                    </table>\r\n                </div>\r\n                <div class=\" col rounded bg-white w-100 p-3 \" style=\"position: relative;\">\r\n                    <h5>{{__('gx.documentation')}}</h5>\r\n                    <button type=\"button\" class=\"p-2 btn btn-primary btn-md\" data-toggle=\"modal\" data-target=\"#modalUploadFiles-{{$project->idProject}}\" style=\"position: absolute; bottom: 0; right: 0; margin-bottom: 2%; margin-right: 2%;\"  data-toggle=\"modal\">{{__('gx.upload files')}}</button>\r\n\r\n                    @foreach($rep1 as $document)\r\n                        <div class=\"doc text-center\" style=\"margin-right: 10px; position:relative; display: inline-block; width: 100px;\">\r\n                            <a href=\"{{Storage::url('documentation/'.$project->idProject.'/'.$document->pathFile)}}\" target=\"_blank\" style=\"position:absolute; top:-10px; right:17px;\"></a>\r\n                            <button style=\"position:absolute; top:-10px; right:-10px;\" id= '{{$document->idDocumentation}}' type=\"button\" class=\"close deleteFile\">\r\n                                    <span class=\"dot\" id=\"delete\" style=\"position:relative\">\r\n                                        <i style=\"font-size: 15px; position:absolute; transform: translate(-50%, -50%); top:45%; left:50%; display:block;\" class=\"fal fa-trash\"></i>\r\n                                    </span>\r\n                            </button>\r\n                            <figure class=\"my-1\">\r\n                                <i class=\"fas fa-folder fa-4x px-2\" style=\"color: #ffce52;\"></i>\r\n                                <figcaption style=\"overflow:hidden;\">{{$document->pathFile}}</figcaption>\r\n                            </figure>\r\n                        </div>\r\n                    @endforeach\r\n\r\n                  {{--modal upload file--}}\r\n                    <div class=\"modal fade\" id=\"modalUploadFiles-{{$project->idProject}}\" aria-labelledby=\"modalUploadFiles-{{$project->idProject}}\" aria-hidden=\"true\" tabindex=\"-1\" role=\"dialog\">\r\n                        <div class=\"modal-dialog\" role=\"document\">\r\n                            <div class=\"modal-content\">\r\n                                <div class=\"modal-header\">\r\n                                    <h4 class=\"modal-title\" id=\"staticBackdropLabel\">{{__('gx.upload files')}}</h4>\r\n                                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <span aria-hidden=\"true\">&times;</span>\r\n                                    </button>\r\n                                </div>\r\n                                <div class=\"modal-body\">\r\n                                    {!! Form::open(['action' => ['ProfessorProjectsController@store', $project->idProject], 'method' => 'POST', 'enctype' => 'multipart/form-data']) !!}\r\n                                    <div class=\"form-group\">\r\n                                        {{Form::label('documentation', trans('gx.documentation'))}}\r\n                                        {{Form::file('documentation')}}\r\n                                    </div>\r\n                                    {{Form::hidden('option', 'projectFiles')}}\r\n                                    {{ Form::hidden('project', $project->idProject) }}\r\n                                    {{Form::hidden('_method','POST')}}\r\n                                    {{Form::submit( trans('gx.submit'), ['class'=>'btn btn-success'])}}\r\n                                    {!! Form::close() !!}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {{-- Modal Delete file --}}\r\n                    <div class=\"modal fade\" id=\"modalDeleteDoc\" aria-labelledby=\"modalDeleteDoc\" aria-hidden=\"true\" tabindex=\"-1\" role=\"dialog\">\r\n                        <div class=\"modal-dialog\" role=\"document\">\r\n                            <div class=\"modal-content\">\r\n                                <div class=\"modal-header\">\r\n                                    <h4 class=\"modal-title\" id=\"staticBackdropLabel\">{{__('gx.delete file')}}</h4>\r\n                                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <span aria-hidden=\"true\">&times;</span>\r\n                                    </button>\r\n                                </div>\r\n                                <div class=\"modal-body\">\r\n                                    <h5>{{__('gx.areyousuredeletedocument')}}</h5>\r\n                                    {!!Form::open(['action' => ['ProfessorProjectsController@destroy', $project->idProject], 'method' => 'POST', 'class' => 'pull-right'])!!}\r\n                                    {{Form::hidden('_method', 'DELETE')}}\r\n                                    {{Form::submit('Delete', ['class' => 'btn btn-danger'])}}\r\n                                    {{Form::hidden('option','doc')}}\r\n                                    {{Form::hidden('idDoc','')}}\r\n                                    {!!Form::close()!!}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"container-fluid ml-0 mr-0 tab-pane fade\" id=\"groups\" role=\"tabpanel\" aria-labelledby=\"groups-tab\">\r\n            <div class=\"row rounded \" style=\"height: 75vh;\">\r\n                <div class=\"col mt-3 mb-3 ml-3 rounded center\" style=\"background-color: #c6c6c6; position: relative;\">\r\n                    <div class=\"container pt-3 overflow-auto mw-80\" >\r\n                        <ul class=\"nav nav-pills mb-3 flex-column\" id=\"pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\r\n                            @foreach($groups as $group)\r\n                                 <li class=\"nav-item mb-1 rounded\" style=\"background-color: #d0e7ff;\">\r\n                                     <a class=\"nav-link \" style=\"display:flex; align-items: center;vertical-align: middle;\" id=\"pills-{{$group->idGroupProject}}-tab\" data-toggle=\"pill\" href=\"#pills-{{$group->idGroupProject}}\" role=\"tab\" aria-controls=\"pills-{{$group->idGroupProject}}\" aria-selected=\"true\">\r\n                                         <h3 class=\"float-left mb-0 mr-2\" style=\"vertical-align: middle;\">{{__('gx.group')}} {{$group->idGroupProject}} </h3>\r\n                                     </a>\r\n                                 </li>\r\n                            @endforeach\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-9 mt-3 mb-3 rounded\" style=\"width: 100%;\">\r\n                    <div class=\"container-fluid rounded h-100 p-3\" style=\"background-color: #c6c6c6;\">\r\n                        <div class=\"tab-content h-100\" id=\"pills-tabContent\">\r\n                            @foreach($groups as $group)\r\n                                <div class=\"container tab-pane fade h-100\" id=\"pills-{{$group->idGroupProject}}\" role=\"tabpanel\" aria-labelledby=\"pills-{{$group->idGroupProject}}-tab\">\r\n                                        <div class=\"row h-100\" style=\"position: relative; background-color: #c6c6c6;\">\r\n                                            <div class=\"col mr-2 \">\r\n                                                    <div class=\"row pb-2 \" style=\"height: 40%;\">\r\n                                                        <div class=\"bg-light p-2 w-100 rounded\">\r\n                                                            <h5>{{__('gx.files')}}</h5>\r\n                                                            @foreach($rep2 as $docSub)\r\n                                                                @if($docSub->idGroup == $group->idGroup)\r\n                                                                    <div class=\"doc text-center\" style=\"margin-right: 10px; position:relative; display: inline-block; width: 100px;\">\r\n                                                                        <a href=\"{{Storage::url('studentRepository/'.$group->idGroup.'/'.$docSub->pathFile)}}\" target=\"_blank\" style=\"position:absolute; top:-10px; right:17px;\" class=\"close downloadFile\" download>\r\n                                                                            <span class=\"dot\" id=\"download\" style=\"position:relative\">\r\n                                                                                <i style=\"font-size: 15px; position:absolute; transform: translate(-50%, -50%); top:45%; left:50%; display:block;\" class=\"fal fa-download\"></i>\r\n                                                                            </span>\r\n                                                                        </a>\r\n                                                                        <figure class=\"my-1\">\r\n                                                                            <i class=\"fas fa-folder fa-4x px-2\" style=\"color: #ffce52;\"></i>\r\n                                                                            <figcaption style=\"overflow:hidden;\">{{$docSub->pathFile}}</figcaption>\r\n                                                                        </figure>\r\n                                                                    </div>\r\n                                                                @endif\r\n                                                            @endforeach\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"row pb-2 \" style=\"height: 30%;\"><div class=\"bg-light p-2 w-100 rounded\"><h5>{{__('gx.students assessments')}}</h5></div></div>\r\n                                                    <div class=\"row \" style=\"height: 30%;\">\r\n                                                        <div class=\" bg-light p-2 w-100 rounded\">\r\n                                                        <h5>{{__('gx.final group evaluation')}}</h5>\r\n                                                        @if ($group->grade == NULL)\r\n                                                            <p class=\"mb-0\">{{__('gx.group not evaluated')}}</p>\r\n                                                            <button type=\"button\" class=\"p-2 btn btn-primary btn-md\" style=\"position: absolute; bottom: 0; right: 0; margin-bottom: 1%; margin-right: 1%;\"  data-toggle=\"modal\" data-target=\"#modalAvaliate-{{$group->idGroup}}\">{{__('gx.evaluate group')}}</button>\r\n                                                            <div class=\"modal fade\" id=\"modalAvaliate-{{$group->idGroup}}\" tabindex=\"-1\" role=\"dialog\">\r\n                                                                <div class=\"modal-dialog\" role=\"document\">\r\n                                                                    <div class=\"modal-content\">\r\n                                                                        <div class=\"modal-header\">\r\n                                                                            <h4 class=\"modal-title\" id=\"staticBackdropLabel\">{{__('gx.evaluation')}}</h4>\r\n                                                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                                                <span aria-hidden=\"true\">&times;</span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                        <div class=\"modal-body\">\r\n                                                                            {!! Form::open(['action' => 'ProfessorProjectsController@store', 'method' => 'POST', 'enctype' => 'multipart/form-data']) !!}\r\n                                                                            <div class=\"form-group\">\r\n                                                                                {{Form::label('grade', trans('gx.project grade'))}}\r\n                                                                                {{Form::text('grade', '', ['class' => 'form-control'])}}\r\n                                                                            </div>\r\n                                                                            <div class=\"form-group\">\r\n                                                                                {{Form::label('gradeComment', trans('gx.comment(opcional)'))}}\r\n                                                                                {{Form::text('gradeComment', '', ['class' => 'form-control'])}}\r\n                                                                            </div>\r\n                                                                            {{Form::hidden('group', $group->idGroup)}}\r\n                                                                            {{Form::hidden('option', 'grade')}}\r\n                                                                            {{Form::hidden('project', $project->idProject)}}\r\n                                                                            {{Form::submit(trans('gx.submit'), ['class'=>'btn btn-success'])}}\r\n\r\n                                                                            {!! Form::close() !!}\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        @else\r\n\r\n                                                            <p class=\"mb-0\">{{__('gx.grade')}}: {{$group->grade}}</p>\r\n                                                            @if($group->gradeComment == NULL)\r\n                                                                <p class=\"m-0\">{{__('gx.no comments')}}</p>\r\n                                                            @else\r\n                                                                <p class=\"mb-0\" >: {{$group->gradeComment}}</p>\r\n                                                            @endif\r\n                                                            <button type=\"button\" class=\"p-2 btn btn-primary btn-md float-right\" style=\"position: absolute; bottom: 0; right: 0; margin-bottom: 1%; margin-right: 1%;\" data-toggle=\"modal\" data-target=\"#modalAvaliate-{{$group->idGroup}}\" >{{__('gx.change grade')}}</button>\r\n                                                            <div class=\"modal fade\" id=\"modalAvaliate-{{$group->idGroup}}\" tabindex=\"-1\" role=\"dialog\">\r\n                                                                <div class=\"modal-dialog\" role=\"document\">\r\n                                                                    <div class=\"modal-content\">\r\n                                                                        <div class=\"modal-header\">\r\n                                                                            <h4 class=\"modal-title\" id=\"staticBackdropLabel\">{{__('gx.evaluation')}}</h4>\r\n                                                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                                                <span aria-hidden=\"true\">&times;</span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                        <div class=\"modal-body\">\r\n                                                                            {!! Form::open(['action' => ['ProfessorProjectsController@update', $project->idProject], 'method' => 'PUT']) !!}\r\n                                                                            <div class=\"form-group\">\r\n                                                                                {{Form::label('grade', trans('gx.project grade'))}}\r\n                                                                                {{Form::text('grade', '', ['class' => 'form-control'])}}\r\n                                                                            </div>\r\n                                                                            <div class=\"form-group\">\r\n                                                                                {{Form::label('gradeComment', trans('gx.comment(opcional)'))}}\r\n                                                                                {{Form::text('gradeComment', '', ['class' => 'form-control'])}}\r\n                                                                            </div>\r\n                                                                            {{Form::hidden('group', $group->idGroup)}}\r\n                                                                            {{Form::hidden('_method','PUT')}}\r\n                                                                            {{Form::hidden('option', 'grade')}}\r\n                                                                            {{Form::submit( trans('gx.submit'), ['class'=>'btn btn-success'])}}\r\n                                                                            {!! Form::close() !!}\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        @endif\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-3 bg-light p-3 rounded\">\r\n                                                <h5>{{__('gx.elements')}}</h5>\r\n                                                @foreach(\\App\\StudentsGroup::all()->where('idGroup', '==', $group->idGroup) as $sg)\r\n                                                    <div class=\"mb-2\"><a href=\"/profile/{{$sg->idStudent}}\"><img class=\"editable img-responsive\" style=\"border-radius: 100%; height: 30px; width: 30px; object-fit: cover;vertical-align: middle;\" alt=\"Avatar\" id=\"avatar2\" src=\"{{Storage::url('profilePhotos/'.\\App\\User::find($sg->idStudent)->photo)}}\"><span style=\"vertical-align: middle;\"> {{\\App\\User::find($sg->idStudent)->name}}</span></a></div>\r\n                                                @endforeach\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                </div>\r\n                            @endforeach\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"tab-pane fade\" id=\"forum\" role=\"tabpanel\" aria-labelledby=\"forum-tab\">\r\n            <button type=\"button\" class=\"p-2 mt-3 mr-3 btn btn-sm btn-primary float-right\" data-toggle=\"modal\" data-target=\"#modalCreatePost\" style=\"background-color: #2c3fb1; border-color: #2c3fb1;\">{{__('gx.create post')}}</button>\r\n\r\n            <div class=\"container rounded pb-3 pt-3\">\r\n                <div class=\"table-responsive-xl\">\r\n                    <table class=\"table bg-white rounded\" style=\"text-align:center;\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>{{__('gx.subject')}}</th>\r\n                            <th>{{__('gx.author')}}</th>\r\n                            <th>{{__('gx.responses')}}</th>\r\n                            <th>{{__('gx.created')}}</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        @if(count($announcements) > 0)\r\n                            @for($i = 0; $i < count($announcements); $i++)\r\n                                <tr>\r\n                                    <td style=\"vertical-align: middle;\"><a href=\"/professor/project/{{$project->idProject}}/post/{{$announcements[$i]->idAnnouncement}}\">{{$announcements[$i]->title}}</a></td>\r\n                                    <td style=\"vertical-align: middle;\">\r\n                                        <a href=\"/profile/{{$userPoster[$i]->id }}\"><img class=\"editable img-responsive\" style=\"border-radius: 100%; height: 30px; width: 30px; object-fit: cover;vertical-align: middle;\" alt=\"Avatar\" id=\"avatar2\" src=\"{{Storage::url('profilePhotos/'.$userPoster[$i]->photo)}}\"><span style=\"vertical-align: middle;\"> {{$userPoster[$i]->name}}</span></a>\r\n                                    </td>\r\n                                    <td style=\"vertical-align: middle;\">{{$numberComments[$i]}}</td>\r\n                                    <td style=\"vertical-align: middle;\">{{$announcements[$i]->date}}</td>\r\n                                </tr>\r\n                            @endfor\r\n                        @else\r\n                            <tr>\r\n                                <td colspan=\"4\"><h5>{{__('gx.no posts found')}}</h5></td>\r\n                            </tr>\r\n                        @endif\r\n                        </tbody>\r\n                    </table>\r\n                    @if(count($announcements) > 0)\r\n                        <div class=\"d-flex justify-content-between\">\r\n                            <span>{{__('gx.showing')}} {{$a->firstItem()}} to {{$a->lastItem()}} of {{$a->total()}} {{__('gx.posts')}}</span>\r\n                            {{$a->links()}}\r\n                        </div>\r\n                    @endif\r\n                </div>\r\n\r\n                {{--Modal Create Post--}}\r\n                <div class=\"modal fade\" id=\"modalCreatePost\" tabindex=\"-1\" role=\"dialog\">\r\n                    <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header\">\r\n                                <h4 class=\"modal-title\" id=\"staticBackdropLabel\">{{__('gx.new post')}}</h4>\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                    <span aria-hidden=\"true\">&times;</span>\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"modal-body\">\r\n                                {!! Form::open(['action' => ['PostController@store', $project -> idProject], 'method' => 'POST']) !!}\r\n                                <div class=\"form-group\">\r\n                                    {{Form::label('title', trans('gx.title'))}}\r\n                                    {{Form::text('title', '', ['class' => 'form-control', 'placeholder' => 'Title'])}}\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    {{Form::label('body', trans('gx.body'))}}\r\n                                    {{Form::textarea('body', '', ['class' => 'form-control', 'placeholder' => 'Body'])}}\r\n                                </div>\r\n\r\n                                {{ Form::hidden('project', $project->idProject) }}\r\n\r\n                                {{Form::submit(trans('gx.submit'), ['class'=>'btn btn-success'])}}\r\n\r\n                                {!! Form::close() !!}\r\n                            </div>\r\n                            <script>ClassicEditor\r\n                                    .create( document.querySelector( '#body' ), {\r\n                                        toolbar: {\r\n                                            items: [\r\n                                                'heading',\r\n                                                '|',\r\n                                                'fontSize',\r\n                                                'fontFamily',\r\n                                                'fontColor',\r\n                                                'fontBackgroundColor',\r\n                                                'highlight',\r\n                                                'bold',\r\n                                                'italic',\r\n                                                'underline',\r\n                                                'strikethrough',\r\n                                                'link',,\r\n                                                '|',\r\n                                                'undo',\r\n                                                'redo',\r\n                                                '|',\r\n                                                'indent',\r\n                                                'outdent',\r\n                                                '|',\r\n                                                'bulletedList',\r\n                                                'numberedList',\r\n                                                '|',\r\n                                                'blockQuote',\r\n                                                'code',\r\n                                                'codeBlock'\r\n                                            ]\r\n                                        },\r\n                                        language: 'en',\r\n                                        licenseKey: '',\r\n                                    } )\r\n                                    .then( editor => {\r\n                                        window.editor = editor;\r\n                                    } )\r\n                                    .catch( error => {\r\n                                        console.error( 'Oops, something gone wrong!' );\r\n                                        console.error( 'Please, report the following error in the https://github.com/ckeditor/ckeditor5 with the build id and the error stack trace:' );\r\n                                        console.warn( 'Build id: ce7zysryrfsm-xck2pu5o5swz' );\r\n                                        console.error( error );\r\n                                    } );\r\n                            </script>\r\n                            <style>\r\n                                .ck-editor__editable_inline {\r\n                                    min-height: 40vh;\r\n                                }\r\n                            </style>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n<style>\r\n    .style1 > tbody > tr:first-child > td {\r\n        border: none;\r\n    }\r\n    .style1 > tbody > tr:first-child > th {\r\n        border: none;\r\n    }\r\n    .info-th{\r\n        width: 46%;\r\n    }\r\n    .info-td {\r\n        text-align: center;\r\n    }\r\n    .nav-tabs .nav-link.active{\r\n        background-color: #ededed;\r\n        border-color:#ededed;\r\n    }\r\n\r\n    .table td, .table th{\r\n        vertical-align: middle;\r\n    }\r\n    #delete {\r\n        height: 25px;\r\n        width: 25px;\r\n        background-color: red;\r\n        border-radius: 50%;\r\n        display: inline-block;\r\n        color:white;\r\n    }\r\n    #download {\r\n        height: 25px;\r\n        width: 25px;\r\n        background-color: white;\r\n        border-radius: 50%;\r\n        display: inline-block;\r\n        color: green;\r\n    }\r\n</style>\r\n<script>\r\n    $('#myTab a').click(function(e) {\r\n        e.preventDefault();\r\n        $(this).tab('show');\r\n    });\r\n\r\n    $('#pills-tab a').click(function(e) {\r\n        e.preventDefault();\r\n        $(this).tab('show');\r\n    });\r\n\r\n    // store the currently selected tab in the hash value\r\n    var pills;\r\n    $(\"ul.nav-tabs > li > a\").on(\"shown.bs.tab\", function(e) {\r\n        var id = $(e.target).attr(\"href\").substr(1);\r\n        if(id == \"groups\"){\r\n            if(pills !== undefined) {\r\n                window.location.hash = id + \".\" + pills;\r\n                $('#pills-tab a[href=\"#' + pills + '\"]').tab('show');\r\n            }else{\r\n                window.location.hash = id + \".\" + \"pills-1\";\r\n                $('#pills-tab a[href=\"#pills-1\"]').tab('show');\r\n            }\r\n        }else{\r\n            window.location.hash = id;\r\n        }\r\n    });\r\n\r\n    $(\"ul.nav-pills > li > a\").on(\"shown.bs.tab\", function(e) {\r\n        var id = $(e.target).attr(\"href\").substr(1);\r\n        pills = id;\r\n        window.location.hash = window.location.hash.split(\".\")[0] + \".\" + id;\r\n    });\r\n\r\n    // on load of the page: switch to the currently selected tab\r\n    var hash = window.location.hash;\r\n    if(hash === ''){\r\n        hash = '#characteristics';\r\n    }\r\n\r\n    if(hash.split(\".\")[0] == '#groups'){\r\n        pills = hash.split(\".\")[1];\r\n        $('#myTab a[href=\"' + hash.split(\".\")[0] + '\"]').tab('show');\r\n    }else{\r\n        $('#myTab a[href=\"' + hash + '\"]').tab('show');\r\n    }\r\n\r\n\r\n    $('.deleteFile').click(function(){\r\n        $('input[name=\"idDoc\"]').val($(this).attr(\"id\"));\r\n        $('#modalDeleteDoc').modal('show');\r\n    });\r\n\r\n</script>\r\n@endsection\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- resources/views/professor/project.blade.php	(revision 8aea1ceb3becb7c2c9bf0e5083725a0d8a431ea3)
+++ resources/views/professor/project.blade.php	(date 1592504162384)
@@ -17,7 +17,7 @@
             <a class="nav-link" id="characteristics-tab" data-toggle="tab" href="#characteristics" role="tab" aria-controls="characteristics" aria-selected="false">{{__('gx.characteristics')}}</a>
         </li>
         <li class="nav-item">
-            <a class="nav-link" id="groups-tab" data-toggle="tab" href="#groups" role="tab" aria-controls="groups" aria-selected="true">{{__('gx.groups')}}</a>
+            <a class="nav-link" id="gr-tab" data-toggle="tab" href="#gr" role="tab" aria-controls="groups" aria-selected="true">{{__('gx.groups')}}</a>
         </li>
         <li class="nav-item">
             <a class="nav-link" id="forum-tab" data-toggle="tab" href="#forum" role="tab" aria-controls="forum" aria-selected="false">{{__('gx.forum')}}</a>
@@ -282,7 +282,6 @@
                                 @endif
                             @endforeach
 
-
                             @if($count >= 1)
                                 <td class="info-td" style="width: 53%;"><button type="button" class="btn btn-outline-primary btn-sm m-0 waves-effect" data-toggle="modal" data-target="#modalGroups-{{$project->idProject}}">{{__('gx.show')}}</button></td>
                                 <div class="modal fade" id="modalGroups-{{$project->idProject}}" aria-labelledby="modalGroups-{{$project->idProject}}" aria-hidden="true" tabindex="-1" role="dialog">
@@ -297,7 +296,7 @@
                                             <div class="modal-body">
                                                 @foreach($groups as $group)
                                                     @if(\App\StudentsGroup::all()->where('idGroup', '==', $group->idGroup)->count() < $project->minElements)
-                                                        <p><a {{--onclick="window.location.assign ='#groups.pills-{{$group->idGroupProject}}'"--}} {{--href="#groups.pills-{{$group->idGroupProject}}"--}} href="{{url('/professor/project/'.$project->idProject.'#groups.pills-'.$group->idGroupProject)}}">Grupo {{$group->idGroupProject}}</a></p>
+                                                        <p><a onclick="reloadPage('{{url('/professor/project/'.$project->idProject.'#groups.pills-'.$group->idGroupProject)}}')" {{--onclick="window.location.assign ='#groups.pills-{{$group->idGroupProject}}'"--}} {{--href="#groups.pills-{{$group->idGroupProject}}"--}} {{--href="{{url('/professor/project/'.$project->idProject.'#groups.pills-'.$group->idGroupProject)}}"--}}>Grupo {{$group->idGroupProject}}</a></p>
                                                     @endif
                                                 @endforeach
                                             </div>
@@ -385,7 +384,7 @@
             </div>
         </div>
 
-        <div class="container-fluid ml-0 mr-0 tab-pane fade" id="groups" role="tabpanel" aria-labelledby="groups-tab">
+        <div class="container-fluid ml-0 mr-0 tab-pane fade" id="gr" role="tabpanel" aria-labelledby="gr-tab">
             <div class="row rounded " style="height: 75vh;">
                 <div class="col mt-3 mb-3 ml-3 rounded center" style="background-color: #c6c6c6; position: relative;">
                     <div class="container pt-3 overflow-auto mw-80" >
@@ -409,10 +408,79 @@
                                             <div class="col mr-2 ">
                                                     <div class="row pb-2 " style="height: 40%;">
                                                         <div class="bg-light p-2 w-100 rounded">
-                                                            <h5>{{__('gx.files')}}</h5>
+                                                            <h5>Submited Files</h5>
                                                             @foreach($rep2 as $docSub)
                                                                 @if($docSub->idGroup == $group->idGroup)
+                                                                    <div id="box1" style="position: absolute; right: 1%; top: 1%; border: 1px solid darkgrey; border-radius: 15px; width: 37%; padding: 5px; vertical-align: middle;">
+                                                                        <img src="/images/deathlineSub.png" style="width: 30px; height: 30px; float: left; ">
+                                                                        <div id="timer3"></div>
+
+                                                                    </div>
+                                                                    <style>
+                                                                        #timer3 {
+                                                                            font-size: 1.0em;
+                                                                            color: black;
+                                                                            vertical-align: middle;
+                                                                        }
+
+                                                                        #timer3 div {
+                                                                            display: inline-block;
+                                                                            min-width: 35px;
+
+                                                                        }
+
+                                                                        #timer3 p {
+                                                                            float: left;
+                                                                            margin-left: 7px;
+                                                                            margin-right: 3px;
+
+                                                                        }
+
+                                                                        #timer3 div span {
+                                                                            color: black;
+                                                                            display: block;
+                                                                            font-size: .60em;
+                                                                            font-weight: 400;
+                                                                        }
+                                                                    </style>
+                                                                    <script>
+                                                                        function updateTimer3() {
+                                                                            future = Date.parse("{{$project->dueDate}}");
+                                                                            now = Date.parse("{{$docSub->submissionTime}}");
+                                                                            diff = Math.abs(future - now);
+
+                                                                            days = Math.floor(diff / (1000 * 60 * 60 * 24));
+                                                                            hours = Math.floor(diff / (1000 * 60 * 60));
+                                                                            mins = Math.floor(diff / (1000 * 60));
+                                                                            secs = Math.floor(diff / 1000);
+
+                                                                            d = days;
+                                                                            h = hours - days * 24;
+                                                                            m = mins - hours * 60;
+                                                                            s = secs - mins * 60;
+
+                                                                            if (now>future){
+                                                                                $('#box1').css('border', '1.5px solid red');
+                                                                                $('#box1').css('background-color', '#ff000042');
+                                                                                document.getElementById("timer3")
+                                                                                    .innerHTML = '<p>Atraso de:<p>'+
+                                                                                    '<div>' + d + '<span>days</span></div>' +
+                                                                                    '<div>' + h + '<span>hrs</span></div>' +
+                                                                                    '<div>' + m + '<span>mins</span></div>'+
+                                                                                    '<div>' + s + '<span>secs</span></div>';
+                                                                            }else{
+                                                                                document.getElementById("timer3")
+                                                                                    .innerHTML =
+                                                                                    '<div>' + d + '<span>{{__('gx.days')}}</span></div>' +
+                                                                                    '<div>' + h + '<span>{{__('gx.hours')}}</span></div>' +
+                                                                                    '<div>' + m + '<span>{{__('gx.minutes')}}</span></div>';
+                                                                            }
+                                                                        }
+                                                                        updateTimer3();
+                                                                    </script>
+
                                                                     <div class="doc text-center" style="margin-right: 10px; position:relative; display: inline-block; width: 100px;">
+
                                                                         <a href="{{Storage::url('studentRepository/'.$group->idGroup.'/'.$docSub->pathFile)}}" target="_blank" style="position:absolute; top:-10px; right:17px;" class="close downloadFile" download>
                                                                             <span class="dot" id="download" style="position:relative">
                                                                                 <i style="font-size: 15px; position:absolute; transform: translate(-50%, -50%); top:45%; left:50%; display:block;" class="fal fa-download"></i>
@@ -428,7 +496,43 @@
 
                                                         </div>
                                                     </div>
-                                                    <div class="row pb-2 " style="height: 30%;"><div class="bg-light p-2 w-100 rounded"><h5>{{__('gx.students assessments')}}</h5></div></div>
+                                                    <div class="row pb-2 ">
+                                                        <div class="bg-light p-2 w-100 rounded">
+                                                            <h5>Teamwork Evaluation</h5>
+                                                            <table class="table">
+                                                                <thead>
+                                                                <tr>
+                                                                    <th scope="col">Elementos</th>
+                                                                    <th scope="col">Autoavaliação</th>
+                                                                    <th scope="col">Avaliação do grupo</th>
+                                                                </tr>
+                                                                </thead>
+                                                                <tbody>
+                                                                @foreach(\App\StudentsGroup::all()->where('idGroup', '==', $group->idGroup) as $sg)
+                                                                    <tr>
+                                                                        <td>{{\App\User::find($sg->idStudent)->name}}</td>
+                                                                        <td>
+                                                                            @if(is_null(\App\Evaluation::where('receiver', $sg->idStudent)->where('sender', $sg->idStudent)->where('idGroup', $group->idGroup)->value('grade')))
+                                                                                <p>-</p>
+                                                                            @else
+                                                                                <img src="/images/star.png" style="width: 25px; height: 25px; ">{{\App\Evaluation::where('receiver', $sg->idStudent)->where('sender', $sg->idStudent)->where('idGroup', $group->idGroup)->value('grade')}}
+                                                                            @endif
+                                                                        </td>
+                                                                        {{--<td>{{\App\Evaluation::find(\App\Evaluation::where('receiver', $sg->idStudent)->where('sender', $sg->idStudent)->where('idGroup', $group->idGroup))}}</td>--}}
+                                                                        {{--<td>{{\App\Evaluation::find()->where([['receiver', '==', $sg->idStudent],['sender', '==', $sg->idStudent]])->first()}}</td>--}}
+                                                                        <td>
+                                                                            @if(\App\Evaluation::find(\App\Evaluation::where('receiver', $sg->idStudent)->where('sender', "!=", $sg->idStudent)->where('idGroup', $group->idGroup)->pluck('idEval'))->pluck('grade')->avg() == 0)
+                                                                                <p>-</p>
+                                                                            @else
+                                                                                <img src="/images/star.png" style="width: 25px; height: 25px;"> {{\App\Evaluation::find(\App\Evaluation::where('receiver', $sg->idStudent)->where('sender', "!=", $sg->idStudent)->where('idGroup', $group->idGroup)->pluck('idEval'))->pluck('grade')->avg()}}
+                                                                            @endif
+                                                                        </td>
+                                                                    </tr>
+                                                                @endforeach
+                                                                </tbody>
+                                                            </table>
+                                                        </div>
+                                                    </div>
                                                     <div class="row " style="height: 30%;">
                                                         <div class=" bg-light p-2 w-100 rounded">
                                                         <h5>{{__('gx.final group evaluation')}}</h5>
@@ -700,7 +804,7 @@
     var pills;
     $("ul.nav-tabs > li > a").on("shown.bs.tab", function(e) {
         var id = $(e.target).attr("href").substr(1);
-        if(id == "groups"){
+        if(id == "gr"){
             if(pills !== undefined) {
                 window.location.hash = id + "." + pills;
                 $('#pills-tab a[href="#' + pills + '"]').tab('show');
@@ -725,7 +829,7 @@
         hash = '#characteristics';
     }
 
-    if(hash.split(".")[0] == '#groups'){
+    if(hash.split(".")[0] == '#gr'){
         pills = hash.split(".")[1];
         $('#myTab a[href="' + hash.split(".")[0] + '"]').tab('show');
     }else{
@@ -738,5 +842,11 @@
         $('#modalDeleteDoc').modal('show');
     });
 
+    function reloadPage(link) {
+        window.location.assign(link);
+        window.location.reload();
+    };
+
+
 </script>
 @endsection
Index: app/Http/Controllers/ProfessorProjectsController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse App\\AnnouncementComment;\r\nuse App\\Http\\Controllers\\Controller;\r\nuse Illuminate\\Http\\Request;\r\nuse App\\Project;\r\nuse App\\Subject;\r\nuse App\\Group;\r\nuse App\\StudentsGroup;\r\nuse App\\User;\r\nuse App\\SubjectEnrollment;\r\nuse App\\Announcement;\r\nuse Storage;\r\nuse Carbon\\Carbon;\r\nuse App\\Documentation;\r\nuse App\\File;\r\n\r\nclass ProfessorProjectsController extends Controller\r\n{\r\n    /**\r\n     * Display a listing of the resource.\r\n     *\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n/*    public function index()\r\n    {\r\n        return view('professor.project');\r\n    }*/\r\n\r\n    /**\r\n     * Show the form for creating a new resource.\r\n     *\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function create()\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * Store a newly created resource in storage.\r\n     *\r\n     * @param  \\Illuminate\\Http\\Request  $request\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function store(Request $request)\r\n    {\r\n        if($request->option==\"project\") {\r\n            $this->validate($request, [\r\n                'title' => 'required',\r\n                'deadline' => 'required',\r\n                'group_formation_deadline' => 'required',\r\n                'documentation' => 'required',\r\n                'minNumber' => 'integer|lte:maxNumber',\r\n                'maxNumber' => 'integer'\r\n            ]);\r\n\r\n            $project = new Project;\r\n            $project->name = $request->title;\r\n            $project->dueDate = Carbon::parse($request->deadline);\r\n            $project->groupCreationDueDate = Carbon::parse($request->group_formation_deadline);\r\n            $project->minElements = $request->minNumber;\r\n            $project->maxElements = $request->maxNumber;\r\n            $project->idSubject = $request->subject;\r\n            $project->maxGroups = SubjectEnrollment::all()->where('idSubject', '==', $request->subject)->count();\r\n            $project->save();\r\n\r\n            $doc = new Documentation;\r\n            $doc->idProject = $project->idProject;\r\n            $doc->pathfile = $request->documentation->getClientOriginalName();\r\n            $file = $request->file('documentation');\r\n            $doc->save();\r\n            $file->storeAs('documentation/'.$project->idProject, $doc->pathfile, 'gcs');\r\n\r\n            return redirect('/')->with('success', 'Project Created');\r\n\r\n        } elseif ($request->option==\"projectFiles\"){\r\n            $this->validate($request, [\r\n                'documentation' => 'required'\r\n            ]);\r\n\r\n            $doc = new Documentation;\r\n            $doc->idProject = $request->project;\r\n            $doc->pathfile = $request->file('documentation')->getClientOriginalName();\r\n            $zip = $request->file('documentation');\r\n            $doc->save();\r\n            $zip->storeAs('documentation/'.$request->project, $doc->pathfile, 'gcs');\r\n\r\n            return redirect('professor/project/'.$request->project)->with('success', 'File Uploaded');\r\n\r\n        }\r\n        else {\r\n            $this->validate($request, [\r\n                'grade' => 'required'\r\n            ]);\r\n\r\n            $projectId = $request->project;\r\n            $group = Group::find($request-> group);\r\n            $group->grade = $request->grade;\r\n            $group->gradeComment = $request->gradeComment;\r\n            $group->save();\r\n\r\n            return redirect('professor/project/'.$projectId)->with('success', 'Grade Given');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Display the specified resource.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function show($id)\r\n    {\r\n\r\n        $rep1 = Documentation::all()->where('idProject', '==', $id);\r\n        $rep2 = File::all()->where('finalState', '==', 'final');\r\n\r\n        $project = Project::find($id);\r\n        $subject = Subject::find($project->idSubject);\r\n        $groups = Group::all()->where('idProject', '==', $id);\r\n\r\n        $announcements = Announcement::orderBy('date', 'desc')->paginate(10)->fragment('forum');\r\n        $allAnnouncements = [];\r\n        foreach ($announcements as $a) {\r\n            array_push($allAnnouncements, $a);\r\n        }\r\n        $userId = $announcements->pluck('sender');\r\n        $users = [];\r\n        foreach ($userId as $uId) {\r\n            $user = User::find($uId);\r\n            array_push($users, $user);\r\n        }\r\n        $idAnnouncement = $announcements->pluck('idAnnouncement');\r\n        $numberComments = [];\r\n        foreach ($idAnnouncement as $idA) {\r\n            $idComment = AnnouncementComment::all()->where('idAnnouncement', '==', $idA)->count();\r\n            array_push($numberComments, $idComment);\r\n        }\r\n\r\n        return view('professor.project')->with('numberComments', $numberComments)->with('project' , $project)->with('subject', $subject)->with('groups', $groups)->with('announcements', $allAnnouncements)->with('userPoster', $users)->with('numberComments', $numberComments)->with('a',$announcements)->with('rep1', $rep1)->with('rep2', $rep2);\r\n    }\r\n\r\n    /**\r\n     * Show the form for editing the specified resource.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function edit($id)\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * Update the specified resource in storage.\r\n     *\r\n     * @param  \\Illuminate\\Http\\Request  $request\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function update(Request $request, $id)\r\n    {\r\n        if($request->option==\"project\") {\r\n            $this->validate($request, [\r\n                'title' => 'required',\r\n                'minNumber' => 'integer|lte:maxNumber',\r\n                'maxNumber' => 'integer'\r\n            ]);\r\n\r\n            $project = Project::find($id);\r\n            $project->name = $request->title;\r\n            if (!empty($request->deadline)){\r\n                $project->dueDate = Carbon::parse($request->deadline);\r\n            }else{\r\n                $project->dueDate = $project->dueDate;\r\n            }\r\n            if (!empty($request->group_formation_deadline)){\r\n                $project->groupCreationDueDate = Carbon::parse($request->group_formation_deadline);\r\n            }else{\r\n                $project->groupCreationDueDate = $project->groupCreationDueDate;\r\n            }\r\n            $project->minElements = $request->minNumber;\r\n            $project->maxElements = $request->maxNumber;\r\n            $project->idSubject = $project->idSubject;\r\n            /*if( $request->file('documentation') ) {\r\n                Storage::delete('documentation/'.$project->idProject.\"/\".$project->documentation);\r\n                $file = $request->file('documentation');\r\n                $filename = $request->documentation->getClientOriginalName();\r\n                $file->storeAs('documentation/'.$project->idProject, $filename, 'gcs');\r\n                $project->documentation = $filename;\r\n            }*/\r\n\r\n            $project->maxGroups = SubjectEnrollment::all()->where('idSubject', '==', $request->subject)->count();\r\n            $project->save();\r\n\r\n            return redirect('professor/project/'.$id)->with('success', 'Project Updated');\r\n\r\n        } else {\r\n            $this->validate($request, [\r\n                'grade' => 'required'\r\n            ]);\r\n\r\n            $group = Group::find($request->group);\r\n            $group->grade = $request->grade;\r\n            $group->gradeComment = $request->gradeComment;\r\n            $group->save();\r\n\r\n            return redirect('professor/project/'.$id)->with('success', 'Grade Updated');\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Remove the specified resource from storage.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function destroy(Request $request, $id){\r\n\r\n        if($request->option == \"doc\"){\r\n            $idDoc = $request->input('idDoc');\r\n            $doc = Documentation::find($idDoc);\r\n            Storage::delete('Documentation/'.$id.'/'.$doc->pathFile);\r\n            $doc->delete();\r\n            return redirect()->action('ProfessorProjectsController@show', $id)->with('success', 'Doc deleted successfully');\r\n\r\n        }else{\r\n            $project = Project::find($id);\r\n            Storage::delete('documentation/'.$project->idProject.\"/\".$project->documentation);\r\n            $project->delete();\r\n            return redirect('/')->with('success', 'Project Deleted');\r\n        }\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/Http/Controllers/ProfessorProjectsController.php	(revision 8aea1ceb3becb7c2c9bf0e5083725a0d8a431ea3)
+++ app/Http/Controllers/ProfessorProjectsController.php	(date 1592215037478)
@@ -16,6 +16,7 @@
 use Carbon\Carbon;
 use App\Documentation;
 use App\File;
+use App\Evaluation;
 
 class ProfessorProjectsController extends Controller
 {
@@ -115,6 +116,7 @@
     public function show($id)
     {
 
+
         $rep1 = Documentation::all()->where('idProject', '==', $id);
         $rep2 = File::all()->where('finalState', '==', 'final');
 
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_15_29__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_15_29__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_13_06_2020_19_39__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_13_06_2020_19_39__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_16_49__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_16_49__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_16_56__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_16_56__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_02_05_2020_12_19__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_02_05_2020_12_19__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_05_05_2020_22_46__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_05_05_2020_22_46__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_06_05_2020_15_22__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_06_05_2020_15_22__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_30_05_2020_13_06__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_30_05_2020_13_06__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_15_31__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_15_31__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_07_05_2020_12_25__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_07_05_2020_12_25__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_27_05_2020_15_52__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_27_05_2020_15_52__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_07_05_2020_22_57__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_07_05_2020_22_57__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_07_05_2020_11_54__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_07_05_2020_11_54__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_06_05_2020_15_22__Default_Changelist_1.xml .idea/shelf/Uncommitted_changes_before_Update_at_06_05_2020_15_22__Default_Changelist_1.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_04_05_2020_18_17__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_04_05_2020_18_17__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_27_05_2020_15_17__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_27_05_2020_15_17__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_15_25__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_15_25__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_15_23__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_15_23__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_19_05_2020_00_13__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_19_05_2020_00_13__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_19_05_2020_19_09__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_19_05_2020_19_09__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_30_04_2020_15_09__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_30_04_2020_15_09__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_29_05_2020_14_21__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_29_05_2020_14_21__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_30_04_2020_22_40__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_30_04_2020_22_40__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_30_05_2020_18_37__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_30_05_2020_18_37__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_21_54__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_08_05_2020_21_54__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_20_05_2020_16_48__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_20_05_2020_16_48__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_09_05_2020_23_48__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_09_05_2020_23_48__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_09_05_2020_20_19__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_09_05_2020_20_19__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_30_05_2020_17_57__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_30_05_2020_17_57__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_27_05_2020_15_24__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_27_05_2020_15_24__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_18_05_2020_18_55__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_18_05_2020_18_55__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_20_05_2020_15_15__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_20_05_2020_15_15__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_21_05_2020_22_44__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_21_05_2020_22_44__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_13_06_2020_21_38__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_13_06_2020_21_38__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_10_06_2020_23_33__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_10_06_2020_23_33__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_24_05_2020_19_23__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_24_05_2020_19_23__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_20_05_2020_14_58__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_20_05_2020_14_58__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_02_06_2020_11_52__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_02_06_2020_11_52__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_19_05_2020_14_46__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_19_05_2020_14_46__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_12_06_2020_16_36__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_12_06_2020_16_36__Default_Changelist_.xml
